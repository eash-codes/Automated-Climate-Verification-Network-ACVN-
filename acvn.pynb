{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "259b03db",
   "metadata": {
    "papermill": {
     "duration": 0.006449,
     "end_time": "2025-12-01T17:47:48.042839",
     "exception": false,
     "start_time": "2025-12-01T17:47:48.036390",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# üåç Climate Misinformation Combat Agent\n",
    "\n",
    "## What's This Project About?\n",
    "\n",
    "Climate misinformation spreads like wildfire on social media. False claims about global warming, renewable energy, and climate science confuse people and slow down action. This project fights back.\n",
    "\n",
    "I built a smart AI system that automatically:\n",
    "- **Catches** false or misleading climate claims\n",
    "- **Verifies** them against real scientific sources (NASA, IPCC, NOAA)\n",
    "- **Explains** why they're wrong with evidence\n",
    "- **Creates** shareable counter-narratives for social media\n",
    "- **Generates** professional reports (PDF + JSON)\n",
    "\n",
    "Think of it as a fact-checking robot trained specifically for climate misinformation.\n",
    "\n",
    "---\n",
    "\n",
    "## The Problem\n",
    "\n",
    "Every day, millions see posts like:\n",
    "- \"Climate change is a hoax invented by China\"\n",
    "- \"Solar panels pollute more than they help\"\n",
    "- \"Arctic ice is actually increasing\"\n",
    "- \"A few degrees of warming won't hurt\"\n",
    "\n",
    "These claims sound plausible but they're **scientifically wrong**. The problem? There's no automated system to debunk them at scale across social media.\n",
    "\n",
    "---\n",
    "\n",
    "## The Solution: 5 AI Agents Working Together\n",
    "\n",
    "Instead of one big AI trying to do everything, I created 5 specialized agents. Each one is really good at one job:\n",
    "\n",
    "| Agent          |             Job        |                Example Output                |\n",
    "|----------------|------------------------|----------------------------------------------|\n",
    "| **Agent 1** üîç | Detects climate claims | \"This is climate denial, needs verification\" |\n",
    "| **Agent 2** ‚úì | Verifies against sources | \"FALSE - contradicts NASA data\" |\n",
    "| **Agent 3** üìö | Writes fact-checks | \"Why this claim is wrong: ...\" |\n",
    "| **Agent 4** ‚≠ê | Scores credibility | \"23/100 - Highly unreliable\" |\n",
    "| **Agent 5** üì± | Makes social posts | \"üö´ Myth: ... REALITY: ... #FactCheck\" |\n",
    "\n",
    "Each agent passes its output to the next. The final result? A complete fact-check package ready to share.\n",
    "\n",
    "---\n",
    "\n",
    "## How It Works (The Flow)\n",
    "\n",
    "\n",
    "1. Raw Climate Claim (from news, Reddit, Twitter)\n",
    "2. Agent 1: Detect & Classify\n",
    "3. Agent 2: Verify Against Sources\n",
    "4. Agent 3: Synthesize Evidence\n",
    "5. Agent 4: Calculate Score\n",
    "6. Agent 5: Generate Social PostsProfessional PDF + JSON Report\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8dd4eb1e",
   "metadata": {
    "papermill": {
     "duration": 0.004579,
     "end_time": "2025-12-01T17:47:48.052647",
     "exception": false,
     "start_time": "2025-12-01T17:47:48.048068",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## What Makes This Different?\n",
    "\n",
    "‚úÖ **Real-time** - Scrapes live climate news and analyzes it  \n",
    "‚úÖ **Multi-agent** - 5 specialized AIs working together (not one doing everything)  \n",
    "‚úÖ **Evidence-based** - Checks against NASA, IPCC, NOAA (not just opinions)  \n",
    "‚úÖ **Social-ready** - Creates posts for Twitter, Facebook, Instagram, LinkedIn, TikTok  \n",
    "‚úÖ **Professional reports** - Beautiful PDFs + structured JSON data  \n",
    "‚úÖ **No truncation** - Full, complete outputs (not summaries)  \n",
    "\n",
    "---\n",
    "\n",
    "## Who Should Care?\n",
    "\n",
    "- üåç **Fact-checkers** - Automate climate claim verification\n",
    "- üì± **Social media teams** - Get ready-to-post counter-narratives\n",
    "- üéì **Researchers** - Study patterns in climate misinformation\n",
    "- üèõÔ∏è **NGOs/Governments** - Scale fact-checking operations\n",
    "- ü§ñ **AI enthusiasts** - Learn multi-agent architecture\n",
    "\n",
    "---\n",
    "\n",
    "## What I Learnt From This Project\n",
    "\n",
    "- How to build a **multi-agent AI system**\n",
    "- How to use **Google Gemini API** for complex tasks\n",
    "- How to **orchestrate AI agents** (one feeding into another)\n",
    "- How to **scrape live data** and process it\n",
    "- How to **generate professional PDFs** from AI outputs\n",
    "- How to structure code for **production use**\n",
    "\n",
    "---\n",
    "\n",
    "## Quick Results Example\n",
    "\n",
    "**Input:** \"Arctic ice is increasing, not melting\"\n",
    "\n",
    "**Output:** \n",
    "\n",
    "Verdict: FALSE ‚ùå\n",
    "Credibility: 12/100 (Unreliable)\n",
    "Scientific Consensus: 97%\n",
    "\n",
    "Counter-Tweet:\n",
    "\"Myth check! üßä Arctic ice is DECLINING by 13% per decade, not increasing.\n",
    "NASA & NSIDC data confirms it. Trust the science. #FactCheck #ClimateReality\"\n",
    "\n",
    "Facebook Post:\n",
    "\"Let's debunk this one: Arctic sea ice is shrinking, not growing...\"\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "75268576",
   "metadata": {
    "papermill": {
     "duration": 0.00421,
     "end_time": "2025-12-01T17:47:48.061082",
     "exception": false,
     "start_time": "2025-12-01T17:47:48.056872",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Tech Stack (What Powers This)\n",
    "\n",
    "- **AI Engine:** Google Gemini 2.0 Flash API\n",
    "- **Language:** Python 3.11+\n",
    "- **PDF Generation:** ReportLab\n",
    "- **Web Scraping:** BeautifulSoup4, Requests\n",
    "- **Platform:** Kaggle Notebooks\n",
    "\n",
    "---\n",
    "\n",
    "## Ready to See It In Action?\n",
    "\n",
    "Keep scrolling! I'll walk you through each step of the pipeline, show you how the agents work, and end with real-world results.\n",
    "\n",
    "Let's fight climate misinformation with AI. üöÄ\n",
    "\n",
    "---\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a349b668",
   "metadata": {
    "papermill": {
     "duration": 0.005832,
     "end_time": "2025-12-01T17:47:48.072084",
     "exception": false,
     "start_time": "2025-12-01T17:47:48.066252",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 1: Connect to Gemini API\n",
    "\n",
    "Before we can fact-check anything, we need to connect to Google's Gemini AI. This is where the magic happens - Gemini is the brain behind all our agents.\n",
    "\n",
    "Here's what's happening:\n",
    "- We're pulling your API key securely from Kaggle Secrets (so it's not exposed in code)\n",
    "- Connecting to the latest Gemini model (2.5-flash - super fast)\n",
    "- Testing the connection to make sure everything works\n",
    "\n",
    "If you see \"**Climate Fact-Checker AI is online and ready!**\" below, you're good to go!\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "89123918",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:47:48.083632Z",
     "iopub.status.busy": "2025-12-01T17:47:48.083369Z",
     "iopub.status.idle": "2025-12-01T17:47:54.050984Z",
     "shell.execute_reply": "2025-12-01T17:47:54.050175Z"
    },
    "papermill": {
     "duration": 5.975673,
     "end_time": "2025-12-01T17:47:54.052136",
     "exception": false,
     "start_time": "2025-12-01T17:47:48.076463",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "üîÑ Testing Gemini API connection...\n",
      "Climate Fact-Checker AI is online and ready!\n",
      "‚úÖ Gemini API connected successfully!\n"
     ]
    }
   ],
   "source": [
    "import os\n",
    "import google.generativeai as genai\n",
    "from kaggle_secrets import UserSecretsClient\n",
    "# Get Gemini API key from Kaggle Secrets\n",
    "user_secrets = UserSecretsClient()\n",
    "GOOGLE_API_KEY = user_secrets.get_secret(\"GOOGLE_API_KEY\")\n",
    "\n",
    "# Configure Gemini with latest model\n",
    "genai.configure(api_key=GOOGLE_API_KEY)\n",
    "model = genai.GenerativeModel('gemini-2.5-flash')\n",
    "\n",
    "# Test Gemini connection\n",
    "print(\"üîÑ Testing Gemini API connection...\")\n",
    "response = model.generate_content(\"Respond with: 'Climate Fact-Checker AI is online and ready!'\")\n",
    "print(response.text)\n",
    "print(\"‚úÖ Gemini API connected successfully!\")\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "eda9dd00",
   "metadata": {
    "papermill": {
     "duration": 0.004364,
     "end_time": "2025-12-01T17:47:54.061231",
     "exception": false,
     "start_time": "2025-12-01T17:47:54.056867",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 2: Install Everything We Need\n",
    "\n",
    "Before we can fact-check anything, we need to install some tools. Think of these as the equipment in our fact-checking lab:\n",
    "\n",
    "- **reportlab** - Makes professional PDFs\n",
    "- **google-generativeai** - Connects to Gemini AI (our brain)\n",
    "- **beautifulsoup4** - Scrapes news from the web\n",
    "- **requests** - Downloads web pages\n",
    "- **pandas** - Handles data tables\n",
    "- **json** - Stores/reads our reports\n",
    "\n",
    "This might take a minute or two. Once you see \"All dependencies installed successfully!\" you're good to go!"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "397d4954",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:47:54.071051Z",
     "iopub.status.busy": "2025-12-01T17:47:54.070793Z",
     "iopub.status.idle": "2025-12-01T17:48:04.973371Z",
     "shell.execute_reply": "2025-12-01T17:48:04.972408Z"
    },
    "papermill": {
     "duration": 10.909187,
     "end_time": "2025-12-01T17:48:04.974762",
     "exception": false,
     "start_time": "2025-12-01T17:47:54.065575",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\u001b[2K   \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m2.0/2.0 MB\u001b[0m \u001b[31m21.9 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\r\n",
      "\u001b[?25hreport lab is isntalled\n",
      "\u001b[2K   \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m319.9/319.9 kB\u001b[0m \u001b[31m5.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\r\n",
      "\u001b[?25h\u001b[31mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\r\n",
      "bigframes 2.12.0 requires google-cloud-bigquery-storage<3.0.0,>=2.30.0, which is not installed.\r\n",
      "google-cloud-translate 3.12.1 requires protobuf!=3.20.0,!=3.20.1,!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<5.0.0dev,>=3.19.5, but you have protobuf 5.29.5 which is incompatible.\r\n",
      "ray 2.51.1 requires click!=8.3.0,>=7.0, but you have click 8.3.0 which is incompatible.\r\n",
      "bigframes 2.12.0 requires rich<14,>=12.4.4, but you have rich 14.2.0 which is incompatible.\r\n",
      "pydrive2 1.21.3 requires cryptography<44, but you have cryptography 46.0.3 which is incompatible.\r\n",
      "pydrive2 1.21.3 requires pyOpenSSL<=24.2.1,>=19.1.0, but you have pyopenssl 25.3.0 which is incompatible.\r\n",
      "gcsfs 2025.3.0 requires fsspec==2025.3.0, but you have fsspec 2025.10.0 which is incompatible.\u001b[0m\u001b[31m\r\n",
      "\u001b[0m‚úÖ All dependencies installed successfully!\n",
      "üì¶ Packages: Gemini AI, Web Scraping, Data Processing\n"
     ]
    }
   ],
   "source": [
    "# Climate Misinformation Combat Agent(Climate Guard AI) - Setup\n",
    "# Install required packages for fact-checking system\n",
    "\n",
    "!pip install -q reportlab\n",
    "print(\"report lab is isntalled\")\n",
    "!pip install -q google-generativeai requests beautifulsoup4 pandas\n",
    "import json\n",
    "import re\n",
    "import requests\n",
    "from datetime import datetime\n",
    "from typing import Dict, List, Any\n",
    "import pandas as pd\n",
    "from bs4 import BeautifulSoup\n",
    "import json as json_lib\n",
    "import time\n",
    "\n",
    "\n",
    "print(\"‚úÖ All dependencies installed successfully!\")\n",
    "print(\"üì¶ Packages: Gemini AI, Web Scraping, Data Processing\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b35849b5",
   "metadata": {
    "papermill": {
     "duration": 0.004636,
     "end_time": "2025-12-01T17:48:04.984731",
     "exception": false,
     "start_time": "2025-12-01T17:48:04.980095",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 3: Configure the System\n",
    "\n",
    "Now we set up the \"rules\" for our fact-checker. This is basically telling it:\n",
    "- **Where to find truth:** Which scientific sources to trust (NASA, IPCC, NOAA)\n",
    "- **What counts as real:** 97% of climate scientists agree = consensus\n",
    "- **How to score things:** What makes something credible? (peer review, government sources, scientific agreement)\n",
    "- **Types of lies to catch:** Climate denial, exaggeration, misleading data, cherry-picking, etc.\n",
    "\n",
    "We also load some sample claims to test with. These are common climate lies you probably hear all the time.\n",
    "\n",
    "Once this runs, you'll see our system is fully configured and ready to fact-check! üéØ\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "1f1f52d2",
   "metadata": {
    "_cell_guid": "b1076dfc-b9ad-4769-8c92-a6c4dae69d19",
    "_uuid": "8f2839f25d086af736a60e9eeb907d3b93b6e0e5",
    "execution": {
     "iopub.execute_input": "2025-12-01T17:48:04.995476Z",
     "iopub.status.busy": "2025-12-01T17:48:04.995011Z",
     "iopub.status.idle": "2025-12-01T17:48:05.001579Z",
     "shell.execute_reply": "2025-12-01T17:48:05.000730Z"
    },
    "papermill": {
     "duration": 0.013758,
     "end_time": "2025-12-01T17:48:05.002965",
     "exception": false,
     "start_time": "2025-12-01T17:48:04.989207",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ Configuration loaded!\n",
      "üìä Scientific sources: 3 databases\n",
      "üéØ Consensus threshold: 97%\n",
      "üìã Sample claims for testing: 9\n"
     ]
    }
   ],
   "source": [
    "# Configuration for Climate Fact-Checking System\n",
    "CONFIG = {\n",
    "    'scientific_sources': {\n",
    "        'NASA_GISS': 'https://climate.nasa.gov/vital-signs/global-temperature/',\n",
    "        'IPCC_AR6': 'https://www.ipcc.ch/report/ar6/wg1/',\n",
    "        'NOAA_Climate': 'https://www.climate.gov/news-features/understanding-climate',\n",
    "    },\n",
    "    'consensus_threshold': 97,  # 97% of climate scientists agree\n",
    "    'credibility_weights': {\n",
    "        'peer_reviewed': 0.4,\n",
    "        'government_source': 0.3,\n",
    "        'scientific_consensus': 0.3\n",
    "    },\n",
    "    'claim_types': [\n",
    "        'climate_denial',\n",
    "        'exaggeration',\n",
    "        'factual',\n",
    "        'misleading_data',\n",
    "        'cherry_picking'\n",
    "    ]\n",
    "}\n",
    "# Sample climate claims for testing (you can replace with real data)\n",
    "SAMPLE_CLAIMS = [\n",
    "    \"Electric vehicles are worse for the environment than gas cars\",\n",
    "    \"Solar panels create more pollution than they prevent\",\n",
    "    \"Nuclear power plants cause more deaths than coal\",\n",
    "    \"Planting trees is enough to stop climate change\",\n",
    "    \"The Arctic ice is actually increasing, not melting\",\n",
    "    \"Climate models have never been accurate\",\n",
    "    \"Volcanoes emit more CO2 than humans\",\n",
    "    \"A few degrees of warming won't make a difference\",\n",
    "    \"CO2  is a green house gas\",\n",
    "]\n",
    "\n",
    "\n",
    "print(f\"‚úÖ Configuration loaded!\")\n",
    "print(f\"üìä Scientific sources: {len(CONFIG['scientific_sources'])} databases\")\n",
    "print(f\"üéØ Consensus threshold: {CONFIG['consensus_threshold']}%\")\n",
    "print(f\"üìã Sample claims for testing: {len(SAMPLE_CLAIMS)}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8056efd9",
   "metadata": {
    "papermill": {
     "duration": 0.004852,
     "end_time": "2025-12-01T17:48:05.013165",
     "exception": false,
     "start_time": "2025-12-01T17:48:05.008313",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 4: Agent 1 - The Claim Detector\n",
    "\n",
    "This is our first AI agent. Think of it as a bouncer at a club - its job is to identify climate claims and figure out which ones look suspicious.\n",
    "\n",
    "**What it does:**\n",
    "- Reads a claim (like \"Solar panels pollute more than they help\")\n",
    "- Asks: \"Is this about climate?\"\n",
    "- Asks: \"What type of claim is this?\" (Is it denial? Exaggeration? Real fact?)\n",
    "- Asks: \"Do we need to fact-check this or is it already well-known?\"\n",
    "- Returns a score of how confident it is (0-100%)\n",
    "\n",
    "**What it outputs:**\n",
    "- Claim type (denial, exaggeration, factual, misleading, etc.)\n",
    "- Keywords from the claim\n",
    "- Whether it needs verification\n",
    "- Its confidence level\n",
    "\n",
    "Once this runs, you'll see which claims look fishy and which ones are probably legit. The ones marked \"Yes ‚ö†Ô∏è\" for verification will get passed to Agent 2 for deeper investigation. üîç\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "aeea2b2a",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:48:05.024500Z",
     "iopub.status.busy": "2025-12-01T17:48:05.024229Z",
     "iopub.status.idle": "2025-12-01T17:48:46.434633Z",
     "shell.execute_reply": "2025-12-01T17:48:46.433690Z"
    },
    "papermill": {
     "duration": 41.417992,
     "end_time": "2025-12-01T17:48:46.435990",
     "exception": false,
     "start_time": "2025-12-01T17:48:05.017998",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "üîç Agent 1: Detecting claims in 9 statements...\n",
      "  ‚Üí Processing claim 1/9...\n",
      "  ‚Üí Processing claim 2/9...\n",
      "  ‚Üí Processing claim 3/9...\n",
      "  ‚Üí Processing claim 4/9...\n",
      "  ‚Üí Processing claim 5/9...\n",
      "  ‚Üí Processing claim 6/9...\n",
      "  ‚Üí Processing claim 7/9...\n",
      "  ‚Üí Processing claim 8/9...\n",
      "  ‚Üí Processing claim 9/9...\n",
      "‚úÖ Agent 1 Complete: 9/9 claims analyzed\n",
      "üéØ Claims needing verification: 8\n",
      "\n",
      "üìä CLAIM DETECTION RESULTS:\n",
      "======================================================================\n",
      "\n",
      "1. Original: Electric vehicles are worse for the environment than gas car...\n",
      "   Type: misleading_data\n",
      "   Main Claim: Electric vehicles are worse for the environment than gas cars\n",
      "   Needs Verification: Yes ‚ö†Ô∏è\n",
      "   Confidence: 1.00\n",
      "\n",
      "2. Original: Solar panels create more pollution than they prevent...\n",
      "   Type: exaggeration\n",
      "   Main Claim: The full lifecycle of solar panels (manufacturing, operation, and disposal) results in a net increase in pollution compared to the pollution they prevent.\n",
      "   Needs Verification: Yes ‚ö†Ô∏è\n",
      "   Confidence: 0.95\n",
      "\n",
      "3. Original: Nuclear power plants cause more deaths than coal...\n",
      "   Type: misleading_data\n",
      "   Main Claim: Nuclear power plants cause more deaths than coal\n",
      "   Needs Verification: Yes ‚ö†Ô∏è\n",
      "   Confidence: 1.00\n",
      "\n",
      "4. Original: Planting trees is enough to stop climate change...\n",
      "   Type: exaggeration\n",
      "   Main Claim: Planting trees alone is sufficient to stop climate change.\n",
      "   Needs Verification: Yes ‚ö†Ô∏è\n",
      "   Confidence: 1.00\n",
      "\n",
      "5. Original: The Arctic ice is actually increasing, not melting...\n",
      "   Type: climate_denial\n",
      "   Main Claim: Arctic ice is increasing\n",
      "   Needs Verification: Yes ‚ö†Ô∏è\n",
      "   Confidence: 1.00\n",
      "\n",
      "6. Original: Climate models have never been accurate...\n",
      "   Type: climate_denial\n",
      "   Main Claim: Climate models are not accurate in their predictions or representations of climate.\n",
      "   Needs Verification: Yes ‚ö†Ô∏è\n",
      "   Confidence: 1.00\n",
      "\n",
      "7. Original: Volcanoes emit more CO2 than humans...\n",
      "   Type: misleading_data\n",
      "   Main Claim: Volcanoes emit more CO2 than humans\n",
      "   Needs Verification: Yes ‚ö†Ô∏è\n",
      "   Confidence: 1.00\n",
      "\n",
      "8. Original: A few degrees of warming won't make a difference...\n",
      "   Type: climate_denial\n",
      "   Main Claim: A few degrees of global warming will not have a significant impact or make a difference.\n",
      "   Needs Verification: Yes ‚ö†Ô∏è\n",
      "   Confidence: 1.00\n",
      "\n",
      "9. Original: CO2  is a green house gas...\n",
      "   Type: factual\n",
      "   Main Claim: CO2 is a greenhouse gas\n",
      "   Needs Verification: No ‚úì\n",
      "   Confidence: 1.00\n"
     ]
    }
   ],
   "source": [
    "# ============================================================================\n",
    "# AGENT 1 - CLASSIFIES CLAIMS INTO CATEGORIES \n",
    "# ============================================================================\n",
    "class ClaimDetectorAgent:\n",
    "    \"\"\"Agent 1: Detects and classifies climate-related claims\"\"\"\n",
    "    \n",
    "    def __init__(self, model, config):\n",
    "        self.model = model\n",
    "        self.config = config\n",
    "        self.detected_claims = []\n",
    "    \n",
    "    def detect_claim(self, text: str) -> Dict[str, Any]:\n",
    "        \"\"\"Analyze text and detect climate claims\"\"\"\n",
    "        try:\n",
    "            prompt = f\"\"\"You are a climate science fact-checker. Analyze this statement:\n",
    "\n",
    "\"{text}\"\n",
    "\n",
    "Classify this claim in JSON format:\n",
    "{{\n",
    "    \"is_climate_related\": <true/false>,\n",
    "    \"claim_type\": \"<one of: climate_denial, exaggeration, factual, misleading_data, cherry_picking, neutral>\",\n",
    "    \"main_claim\": \"<extract the core scientific claim>\",\n",
    "    \"confidence\": <0.0 to 1.0>,\n",
    "    \"keywords\": [\"keyword1\", \"keyword2\"],\n",
    "    \"needs_verification\": <true/false>,\n",
    "    \"reasoning\": \"<brief explanation>\"\n",
    "}}\n",
    "\n",
    "CRITICAL INSTRUCTION FOR needs_verification:\n",
    "- Set to TRUE for: conspiracy theories, false claims, misleading statements, denialism, exaggerations\n",
    "- Set to FALSE for: neutral statements, well-established scientific facts\n",
    "- Examples that need verification: \"hoax\", \"not a greenhouse gas\", \"temperatures haven't increased\"\n",
    "- Examples that don't: \"97% of scientists agree\" (already documented fact)\n",
    "\"\"\"\n",
    "\n",
    "            response = self.model.generate_content(prompt)\n",
    "            text_response = response.text\n",
    "            \n",
    "            # Remove markdown fences if present\n",
    "            text_response = text_response.replace('``````', '').strip()\n",
    "            \n",
    "            # Extract JSON\n",
    "            json_start = text_response.find('{')\n",
    "            json_end = text_response.rfind('}') + 1\n",
    "            \n",
    "            if json_start == -1 or json_end <= json_start:\n",
    "                raise ValueError(\"No valid JSON found in response\")\n",
    "            \n",
    "            result = json.loads(text_response[json_start:json_end])\n",
    "            \n",
    "            result['original_text'] = text\n",
    "            result['status'] = 'success'\n",
    "            \n",
    "            return result\n",
    "            \n",
    "        except Exception as e:\n",
    "            return {\n",
    "                'original_text': text,\n",
    "                'status': 'error',\n",
    "                'error_message': str(e),\n",
    "                'needs_verification': False\n",
    "            }\n",
    "    \n",
    "    def execute(self, claims: List[str]) -> List[Dict[str, Any]]:\n",
    "        \"\"\"Process multiple claims\"\"\"\n",
    "        print(f\"üîç Agent 1: Detecting claims in {len(claims)} statements...\")\n",
    "        \n",
    "        results = []\n",
    "        for i, claim in enumerate(claims, 1):\n",
    "            print(f\"  ‚Üí Processing claim {i}/{len(claims)}...\")\n",
    "            result = self.detect_claim(claim)\n",
    "            results.append(result)\n",
    "        \n",
    "        successful = sum(1 for r in results if r['status'] == 'success')\n",
    "        verified_needed = sum(1 for r in results if r.get('needs_verification', False))\n",
    "        \n",
    "        print(f\"‚úÖ Agent 1 Complete: {successful}/{len(claims)} claims analyzed\")\n",
    "        print(f\"üéØ Claims needing verification: {verified_needed}\")\n",
    "        \n",
    "        self.detected_claims = results\n",
    "        return results\n",
    "\n",
    "# Test Agent 1 (FIXED VERSION)\n",
    "agent1 = ClaimDetectorAgent(model, CONFIG)\n",
    "detected_claims = agent1.execute(SAMPLE_CLAIMS)\n",
    "\n",
    "# Display results\n",
    "print(\"\\nüìä CLAIM DETECTION RESULTS:\")\n",
    "print(\"=\" * 70)\n",
    "for i, claim in enumerate(detected_claims, 1):\n",
    "    if claim['status'] == 'success':\n",
    "        print(f\"\\n{i}. Original: {claim['original_text'][:60]}...\")\n",
    "        print(f\"   Type: {claim.get('claim_type', 'Unknown')}\")\n",
    "        print(f\"   Main Claim: {claim.get('main_claim', 'N/A')}\")\n",
    "        print(f\"   Needs Verification: {'Yes ‚ö†Ô∏è' if claim.get('needs_verification') else 'No ‚úì'}\")\n",
    "        print(f\"   Confidence: {claim.get('confidence', 0):.2f}\")\n",
    "    else:\n",
    "        print(f\"\\n{i}. ‚ùå ERROR: {claim.get('error_message', 'Unknown error')}\")\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4b01cb3d",
   "metadata": {
    "papermill": {
     "duration": 0.005424,
     "end_time": "2025-12-01T17:48:46.446987",
     "exception": false,
     "start_time": "2025-12-01T17:48:46.441563",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 5: Agent 2 - The Fact Checker\n",
    "\n",
    "Now things get serious. Agent 1 flagged suspicious claims, and Agent 2's job is to verify them against real science.\n",
    "\n",
    "**What it does:**\n",
    "- Takes a claim from Agent 1\n",
    "- Checks it against a database of verified scientific facts (from NASA, IPCC, NOAA)\n",
    "- Asks Gemini: \"Is this TRUE or FALSE based on what we know?\"\n",
    "- Finds evidence that supports or contradicts the claim\n",
    "- Gives a final verdict with a confidence score\n",
    "\n",
    "**What it outputs:**\n",
    "- Verdict: TRUE, FALSE, MISLEADING, or UNVERIFIABLE\n",
    "- Scientific consensus percentage (e.g., \"97% of scientists agree\")\n",
    "- Evidence supporting the correct position\n",
    "- Evidence contradicting the false claim\n",
    "- Which authoritative sources back this up\n",
    "- A clear explanation of why it's right or wrong\n",
    "\n",
    "This is where the rubber meets the road. False claims get exposed here with citations and data. ‚úì\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "d50423d9",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:48:46.459222Z",
     "iopub.status.busy": "2025-12-01T17:48:46.458935Z",
     "iopub.status.idle": "2025-12-01T17:50:08.360788Z",
     "shell.execute_reply": "2025-12-01T17:50:08.359793Z"
    },
    "papermill": {
     "duration": 81.909827,
     "end_time": "2025-12-01T17:50:08.362382",
     "exception": false,
     "start_time": "2025-12-01T17:48:46.452555",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "üî¨ Agent 2: Verifying claims against scientific sources...\n",
      "  ‚Üí Processing claim 1/9...\n",
      "  ‚Üí Processing claim 2/9...\n",
      "  ‚Üí Processing claim 3/9...\n",
      "  ‚Üí Processing claim 4/9...\n",
      "  ‚Üí Processing claim 5/9...\n",
      "  ‚Üí Processing claim 6/9...\n",
      "  ‚Üí Processing claim 7/9...\n",
      "  ‚Üí Processing claim 8/9...\n",
      "  ‚Üí Processing claim 9/9...\n",
      "‚úÖ Agent 2 Complete: 9/9 claims verified\n",
      "\n",
      "üî¨ VERIFICATION RESULTS:\n",
      "================================================================================\n",
      "\n",
      "1. CLAIM: Electric vehicles are worse for the environment than gas cars...\n",
      "   üìã Type: misleading_data\n",
      "   ‚úì VERDICT: FALSE\n",
      "   üìä Scientific Consensus: 95%\n",
      "   üîó Sources: IPCC, EPA (Environmental Protection Agency), International Council on Clean Transportation (ICCT)\n",
      "   üí° Explanation: While electric vehicle manufacturing has an initial carbon footprint, scientific lifecycle analyses consistently demonstrate that over their full operational lifetime, EVs produce significantly fewer greenhouse gas emissions than gasoline cars. This is due to zero tailpipe emissions and the ongoing decarbonization of electricity grids, making them a more environmentally friendly option overall.\n",
      "   üéØ Confidence: 0.95\n",
      "\n",
      "2. CLAIM: The full lifecycle of solar panels (manufacturing, operation, and disp...\n",
      "   üìã Type: exaggeration\n",
      "   ‚úì VERDICT: FALSE\n",
      "   üìä Scientific Consensus: 99%\n",
      "   üîó Sources: IPCC, NASA, NOAA\n",
      "   üí° Explanation: The claim is false. Scientific consensus, supported by numerous lifecycle assessments, consistently shows that solar panels prevent significantly more pollution over their lifespan than is generated during their manufacturing, operation, and disposal. They provide a net reduction in greenhouse gas emissions and are a critical tool for climate change mitigation.\n",
      "   üéØ Confidence: 1.00\n",
      "\n",
      "3. CLAIM: Nuclear power plants cause more deaths than coal...\n",
      "   üìã Type: misleading_data\n",
      "   ‚úì VERDICT: FALSE\n",
      "   üìä Scientific Consensus: 95%\n",
      "   üîó Sources: Academic research on energy mortality rates (e.g., published in The Lancet, PNAS, Our World in Data), World Health Organization (WHO) reports on air pollution and health, International Atomic Energy Agency (IAEA) reports on nuclear safety and risk assessment\n",
      "   üí° Explanation: The claim is false. Extensive research shows that coal power plants cause far more deaths than nuclear power plants, primarily due to chronic air pollution from burning coal. While nuclear accidents are high-profile, their overall mortality rate per unit of energy produced is exceptionally low compared to fossil fuels.\n",
      "   üéØ Confidence: 0.95\n",
      "\n",
      "4. CLAIM: Planting trees alone is sufficient to stop climate change....\n",
      "   üìã Type: exaggeration\n",
      "   ‚úì VERDICT: MISLEADING\n",
      "   üìä Scientific Consensus: 97%\n",
      "   üîó Sources: NASA, IPCC, NOAA\n",
      "   üí° Explanation: While planting trees is a valuable nature-based solution for absorbing CO2, it alone is not sufficient to stop climate change. The primary driver of global warming is the emission of greenhouse gases from burning fossil fuels, requiring comprehensive reductions across all sectors in addition to carbon sequestration efforts.\n",
      "   üéØ Confidence: 0.95\n",
      "\n",
      "5. CLAIM: Arctic ice is increasing...\n",
      "   üìã Type: climate_denial\n",
      "   ‚úì VERDICT: FALSE\n",
      "   üìä Scientific Consensus: 100%\n",
      "   üîó Sources: NSIDC, NASA, IPCC\n",
      "   üí° Explanation: The claim that Arctic ice is increasing is false. Scientific data from organizations like the National Snow and Ice Data Center (NSIDC) clearly show that Arctic sea ice is declining at a rate of 13% per decade. This trend is a key indicator of ongoing climate change and global warming.\n",
      "   üéØ Confidence: 1.00\n",
      "\n",
      "6. CLAIM: Climate models are not accurate in their predictions or representation...\n",
      "   üìã Type: climate_denial\n",
      "   ‚úì VERDICT: FALSE\n",
      "   üìä Scientific Consensus: 98%\n",
      "   üîó Sources: NASA, IPCC, NOAA\n",
      "   üí° Explanation: Climate models have demonstrated significant skill in accurately reproducing past climate changes and projecting future trends, particularly for global-scale phenomena over decadal timescales. Their continuous validation against observations and their central role in IPCC assessments confirm their scientific reliability, though they are subject to ongoing refinement.\n",
      "   üéØ Confidence: 1.00\n",
      "\n",
      "7. CLAIM: Volcanoes emit more CO2 than humans...\n",
      "   üìã Type: misleading_data\n",
      "   ‚úì VERDICT: FALSE\n",
      "   üìä Scientific Consensus: 97%\n",
      "   üîó Sources: NASA, IPCC, NOAA, USGS\n",
      "   üí° Explanation: Volcanoes emit a relatively small amount of CO2 annually compared to human activities. Scientific data indicates that human emissions from burning fossil fuels are over 100 times greater than volcanic emissions, making human activities the dominant source of CO2 responsible for current global warming.\n",
      "   üéØ Confidence: 1.00\n",
      "\n",
      "8. CLAIM: A few degrees of global warming will not have a significant impact or ...\n",
      "   üìã Type: climate_denial\n",
      "   ‚úì VERDICT: FALSE\n",
      "   üìä Scientific Consensus: 97%\n",
      "   üîó Sources: IPCC, NASA, NOAA, NSIDC\n",
      "   üí° Explanation: The claim is false. Even the approximately 1.1¬∞C of global warming experienced so far has led to significant and measurable impacts, including sea level rise, melting ice, and more extreme weather events. Scientific evidence consistently shows that even a few degrees of warming are projected to cause increasingly severe and widespread changes to Earth's systems and human societies.\n",
      "   üéØ Confidence: 1.00\n",
      "\n",
      "9. CLAIM: CO2 is a greenhouse gas...\n",
      "   üìã Type: factual\n",
      "   ‚úì VERDICT: TRUE\n",
      "   üìä Scientific Consensus: 100%\n",
      "   üîó Sources: NASA, IPCC, NOAA\n",
      "   üí° Explanation: CO2 is a greenhouse gas, meaning it absorbs and emits infrared radiation, effectively trapping heat in the Earth's atmosphere. This is a fundamental principle of atmospheric physics that has been scientifically established since the 1800s.\n",
      "   üéØ Confidence: 1.00\n"
     ]
    }
   ],
   "source": [
    "# ============================================================================\n",
    "# AGENT 2 - SOURCE VERIFIER \n",
    "# ============================================================================\n",
    "class SourceVerifierAgent:\n",
    "    \"\"\"Agent 2: Verifies claims against scientific databases\"\"\"\n",
    "    \n",
    "    def __init__(self, model, config):\n",
    "        self.model = model\n",
    "        self.config = config\n",
    "        self.scientific_facts = self._load_scientific_facts()\n",
    "    \n",
    "    def _load_scientific_facts(self) -> Dict[str, str]:\n",
    "        \"\"\"Load verified scientific facts about climate\"\"\"\n",
    "        return {\n",
    "            'global_warming': 'Global average temperature has increased by approximately 1.1¬∞C since pre-industrial times (1850-1900). Source: IPCC AR6 2021',\n",
    "            'scientific_consensus': '97% of actively publishing climate scientists agree that humans are causing global warming. Source: Cook et al. 2013',\n",
    "            'co2_greenhouse': 'CO2 is a greenhouse gas that traps heat in the atmosphere. This is established physics since the 1800s. Source: NASA',\n",
    "            'human_cause': 'Human activities (fossil fuels, deforestation) are the primary cause of recent warming. Source: IPCC AR6 WG1',\n",
    "            'temperature_trend': 'The past decade (2011-2020) was the warmest on record. Source: NOAA, NASA GISS',\n",
    "            'sea_level_rise': 'Global sea level has risen about 8-9 inches since 1880. Source: NASA',\n",
    "            'ice_melt': 'Arctic sea ice is declining at a rate of 13% per decade. Source: NSIDC',\n",
    "            'extreme_weather': 'Climate change is increasing the frequency and intensity of extreme weather events. Source: IPCC AR6 WG1'\n",
    "        }\n",
    "    \n",
    "    def verify_claim(self, claim_data: Dict[str, Any]) -> Dict[str, Any]:\n",
    "        \"\"\"Verify a claim against scientific sources\"\"\"\n",
    "        try:\n",
    "            main_claim = claim_data.get('main_claim', '')\n",
    "            claim_type = claim_data.get('claim_type', 'unknown').lower()\n",
    "            \n",
    "            # Flexible verification triggers - checks for keywords instead of exact matches\n",
    "            should_verify = any([\n",
    "                'false' in claim_type,\n",
    "                'conspiracy' in claim_type,\n",
    "                'mislead' in claim_type,\n",
    "                'denial' in claim_type,\n",
    "                'hoax' in claim_type,\n",
    "                'factual' in claim_type,  # Added: factual claims need verification\n",
    "                claim_data.get('confidence', 1.0) < 0.5,  # Low confidence claims\n",
    "                claim_data.get('needs_verification', False)\n",
    "            ])\n",
    "            \n",
    "            if not should_verify:\n",
    "                return {\n",
    "                    'claim': main_claim,\n",
    "                    'verification_needed': False,\n",
    "                    'status': 'skipped',\n",
    "                    'reason': f'Claim type \"{claim_type}\" does not require verification'\n",
    "                }\n",
    "            \n",
    "            prompt = f\"\"\"You are a climate scientist fact-checker. Verify this claim:\n",
    "\n",
    "CLAIM: \"{main_claim}\"\n",
    "CLAIM TYPE: {claim_type}\n",
    "\n",
    "VERIFIED SCIENTIFIC FACTS:\n",
    "{json.dumps(self.scientific_facts, indent=2)}\n",
    "\n",
    "Analyze the claim against scientific consensus. Respond ONLY with valid JSON (no markdown, no extra text):\n",
    "{{\n",
    "    \"verdict\": \"TRUE/FALSE/MISLEADING/UNVERIFIABLE\",\n",
    "    \"scientific_consensus\": <0-100 percentage of scientists who agree with the CORRECT position>,\n",
    "    \"supporting_evidence\": [\"evidence that supports the CORRECT position\"],\n",
    "    \"contradicting_evidence\": [\"evidence that contradicts the CLAIM if it's false\"],\n",
    "    \"authoritative_sources\": [\"NASA\", \"IPCC\", \"NOAA\"],\n",
    "    \"explanation\": \"Clear 2-3 sentence explanation of why the claim is true/false\",\n",
    "    \"confidence\": <0.0 to 1.0>\n",
    "}}\"\"\"\n",
    "\n",
    "            response = self.model.generate_content(prompt)\n",
    "            text_response = response.text.strip()\n",
    "            \n",
    "            # Remove markdown code fences if present\n",
    "            text_response = text_response.replace('``````', '').strip()\n",
    "            \n",
    "            # Extract JSON robustly\n",
    "            json_start = text_response.find('{')\n",
    "            json_end = text_response.rfind('}') + 1\n",
    "            \n",
    "            if json_start == -1 or json_end <= json_start:\n",
    "                raise ValueError(\"No JSON found in response\")\n",
    "            \n",
    "            result = json.loads(text_response[json_start:json_end])\n",
    "            \n",
    "            result['original_claim'] = main_claim\n",
    "            result['claim_type'] = claim_type\n",
    "            result['status'] = 'success'\n",
    "            \n",
    "            return result\n",
    "            \n",
    "        except json.JSONDecodeError as e:\n",
    "            return {\n",
    "                'original_claim': claim_data.get('main_claim', ''),\n",
    "                'status': 'error',\n",
    "                'error_type': 'JSON_PARSE_ERROR',\n",
    "                'error_message': f\"Could not parse JSON: {str(e)}\"\n",
    "            }\n",
    "        except Exception as e:\n",
    "            return {\n",
    "                'original_claim': claim_data.get('main_claim', ''),\n",
    "                'status': 'error',\n",
    "                'error_type': type(e).__name__,\n",
    "                'error_message': str(e)\n",
    "            }\n",
    "    \n",
    "    def execute(self, detected_claims: List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n",
    "        \"\"\"Verify all detected claims\"\"\"\n",
    "        print(f\"\\nüî¨ Agent 2: Verifying claims against scientific sources...\")\n",
    "        \n",
    "        results = []\n",
    "        verification_count = 0\n",
    "        \n",
    "        for i, claim in enumerate(detected_claims, 1):\n",
    "            if claim.get('status') == 'success':\n",
    "                print(f\"  ‚Üí Processing claim {i}/{len(detected_claims)}...\")\n",
    "                result = self.verify_claim(claim)\n",
    "                if result.get('status') == 'success':\n",
    "                    verification_count += 1\n",
    "                results.append(result)\n",
    "            else:\n",
    "                results.append({'status': 'skipped', 'reason': 'Claim detection failed'})\n",
    "        \n",
    "        successful = sum(1 for r in results if r.get('status') == 'success')\n",
    "        print(f\"‚úÖ Agent 2 Complete: {successful}/{len(detected_claims)} claims verified\\n\")\n",
    "        \n",
    "        return results\n",
    "\n",
    "# Test Agent 2\n",
    "agent2 = SourceVerifierAgent(model, CONFIG)\n",
    "verified_claims = agent2.execute(detected_claims)\n",
    "\n",
    "# Display results\n",
    "print(\"üî¨ VERIFICATION RESULTS:\")\n",
    "print(\"=\" * 80)\n",
    "for i, result in enumerate(verified_claims, 1):\n",
    "    if result.get('status') == 'success':\n",
    "        print(f\"\\n{i}. CLAIM: {result.get('original_claim', '')[:70]}...\")\n",
    "        print(f\"   üìã Type: {result.get('claim_type', 'unknown')}\")\n",
    "        print(f\"   ‚úì VERDICT: {result.get('verdict', 'N/A').upper()}\")\n",
    "        print(f\"   üìä Scientific Consensus: {result.get('scientific_consensus', 0)}%\")\n",
    "        print(f\"   üîó Sources: {', '.join(result.get('authoritative_sources', []))}\")\n",
    "        print(f\"   üí° Explanation: {result.get('explanation', '')}\")\n",
    "        print(f\"   üéØ Confidence: {result.get('confidence', 0):.2f}\")\n",
    "    elif result.get('status') == 'error':\n",
    "        print(f\"\\n{i}. ‚ùå ERROR: {result.get('error_message', 'Unknown error')}\")\n",
    "    else:\n",
    "        print(f\"\\n{i}. ‚è≠Ô∏è  SKIPPED: {result.get('reason', 'Unknown reason' )}\")\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2582f9b3",
   "metadata": {
    "papermill": {
     "duration": 0.005367,
     "end_time": "2025-12-01T17:50:08.374531",
     "exception": false,
     "start_time": "2025-12-01T17:50:08.369164",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 6: Agent 3 - The Evidence Synthesizer\n",
    "\n",
    "Agent 2 found the truth. Now Agent 3's job is to explain it in a way regular people understand.\n",
    "\n",
    "**What it does:**\n",
    "- Takes the verified information from Agent 2\n",
    "- Writes a clear, accessible fact-check (not jargon-filled)\n",
    "- Pulls out the key evidence points\n",
    "- Organizes citations with sources and URLs\n",
    "- Creates a punchy \"bottom line\" that explains what's really going on\n",
    "\n",
    "**What it outputs:**\n",
    "- A headline that grabs attention\n",
    "- A 2-3 sentence summary anyone can understand\n",
    "- Key evidence points (bullet points, easy to read)\n",
    "- What science actually says\n",
    "- Citations with sources and links\n",
    "- A clear bottom-line takeaway\n",
    "\n",
    "Think of it as translating \"science speak\" into \"human speak.\" This is what gets shared on social media and fact-checking websites. üìö\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "bc0034db",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:50:08.386974Z",
     "iopub.status.busy": "2025-12-01T17:50:08.386696Z",
     "iopub.status.idle": "2025-12-01T17:51:28.573502Z",
     "shell.execute_reply": "2025-12-01T17:51:28.572503Z"
    },
    "papermill": {
     "duration": 80.194716,
     "end_time": "2025-12-01T17:51:28.574696",
     "exception": false,
     "start_time": "2025-12-01T17:50:08.379980",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "üìö Agent 3: Synthesizing evidence into fact-checks...\n",
      "  ‚Üí Creating fact-check 1...\n",
      "  ‚Üí Creating fact-check 2...\n",
      "  ‚Üí Creating fact-check 3...\n",
      "  ‚Üí Creating fact-check 4...\n",
      "  ‚Üí Creating fact-check 5...\n",
      "  ‚Üí Creating fact-check 6...\n",
      "  ‚Üí Creating fact-check 7...\n",
      "  ‚Üí Creating fact-check 8...\n",
      "  ‚Üí Creating fact-check 9...\n",
      "‚úÖ Agent 3 Complete: 9 fact-checks created\n",
      "\n",
      "üìö FACT-CHECK SUMMARIES:\n",
      "======================================================================\n",
      "\n",
      "1. Fact Check: Electric Vehicles Are NOT Worse for the Environment Than Gas Cars\n",
      "   Verdict: FALSE\n",
      "   Summary: The claim that electric vehicles (EVs) are worse for the environment than gasoline cars is false. Scientific evidence consistently shows that EVs have a lower total greenhouse gas footprint over their lifetime and produce zero tailpipe emissions, significantly reducing local air pollution. As electricity grids transition to cleaner, renewable energy sources, the environmental benefits of EVs will only continue to grow.\n",
      "   Bottom Line: Electric vehicles offer a demonstrably greener alternative to gasoline cars, significantly reducing both local air pollution and overall greenhouse gas emissions throughout their lifespan, with benefits set to increase as electricity grids decarbonize.\n",
      "   Citations: 3 sources\n",
      "\n",
      "2. Fact Check: Solar Panels Are a Net Pollution Reducer, Not Creator\n",
      "   Verdict: FALSE\n",
      "   Summary: The claim that solar panels cause a net increase in pollution over their lifecycle is FALSE. Scientific evidence, including comprehensive lifecycle assessments, consistently shows that solar panels prevent significantly more greenhouse gas emissions than they produce. They are a crucial strategy for reducing global pollution and mitigating climate change.\n",
      "   Bottom Line: Solar panels are a proven net reducer of pollution over their entire lifespan. They are a vital component of global efforts to transition to clean energy and combat climate change, producing far more clean energy than is consumed in their production and disposal.\n",
      "   Citations: 3 sources\n",
      "\n",
      "3. Fact Check: Do Nuclear Power Plants Cause More Deaths Than Coal?\n",
      "   Verdict: FALSE\n",
      "   Summary: The claim that nuclear power plants cause more deaths than coal is FALSE. Comprehensive studies consistently show that coal power generation is responsible for significantly more deaths per unit of electricity due to pervasive air pollution, which leads to widespread respiratory and cardiovascular diseases. Nuclear power, despite public perception, has a remarkably low mortality rate compared to fossil fuels.\n",
      "   Bottom Line: Coal power is vastly more deadly than nuclear power, primarily due to the ongoing and widespread health impacts of its air pollution emissions, a factor that nuclear power does not share.\n",
      "   Citations: 4 sources\n",
      "\n",
      "4. Fact Check: Planting Trees Alone Is Not Enough to Stop Climate Change\n",
      "   Verdict: MISLEADING\n",
      "   Summary: While planting trees is a vital part of addressing climate change, the claim that it alone is sufficient is misleading. Scientific consensus shows that human activities, primarily the burning of fossil fuels, are the overwhelming cause of global warming. To effectively combat climate change, drastic reductions in greenhouse gas emissions are essential alongside reforestation efforts.\n",
      "   Bottom Line: Planting trees is a valuable climate solution that provides many benefits, but it is only one piece of a much larger puzzle. To effectively combat climate change, we must prioritize dramatic reductions in fossil fuel emissions, transition to clean energy, and protect existing ecosystems, alongside robust tree-planting and conservation efforts.\n",
      "   Citations: 3 sources\n",
      "\n",
      "5. Fact Check: Arctic Ice Is Not Increasing\n",
      "   Verdict: FALSE\n",
      "   Summary: The claim that Arctic ice is increasing is FALSE. Scientific data unequivocally shows that Arctic sea ice is rapidly declining, losing approximately 13% of its extent per decade, a clear indicator of ongoing climate change.\n",
      "   Bottom Line: Overwhelming scientific evidence confirms that Arctic ice is rapidly declining due to climate change, making any claim of an increase demonstrably false.\n",
      "   Citations: 3 sources\n",
      "\n",
      "6. Fact Check: Climate Models Are Accurate and Reliable Scientific Tools\n",
      "   Verdict: FALSE\n",
      "   Summary: Claims that climate models are inaccurate in their predictions or representations of climate are false. Leading scientific organizations confirm that these models consistently reproduce historical climate trends and accurately project major long-term changes, serving as crucial tools for understanding and predicting future climate scenarios.\n",
      "   Bottom Line: Climate models are robust and reliable scientific tools, validated by historical data and trusted by the global scientific community to accurately represent and project broad climate trends.\n",
      "   Citations: 3 sources\n",
      "\n",
      "7. Fact Check: No, Volcanoes Do Not Emit More CO2 Than Humans\n",
      "   Verdict: FALSE\n",
      "   Summary: The claim that volcanoes emit more CO2 than humans is FALSE. Scientific data consistently shows that human activities, primarily the burning of fossil fuels, release over 60 times more CO2 into the atmosphere annually than all volcanoes combined. This human-caused CO2 is the overwhelming driver of the rapid increase in atmospheric CO2 levels and current global warming.\n",
      "   Bottom Line: Human activities are by far the largest source of CO2 emissions, significantly dwarfing those from volcanoes and driving current climate change.\n",
      "   Citations: 4 sources\n",
      "\n",
      "8. False: Even 'A Few Degrees' of Global Warming Are Already Causing Significant and Observable Impacts\n",
      "   Verdict: FALSE\n",
      "   Summary: The claim that a few degrees of global warming will not have a significant impact is false. Even a seemingly small global average temperature increase of 1.1¬∞C since pre-industrial times has already led to widespread and observable changes. These include rising sea levels, declining arctic ice, and more frequent and intense extreme weather events, demonstrating that such warming is far from inconsequential.\n",
      "   Bottom Line: The science is clear: a seemingly small increase in global temperature has already set in motion significant and accelerating changes worldwide. The notion that a few degrees are inconsequential is disproven by extensive data and observable impacts, which pose serious threats globally.\n",
      "   Citations: 4 sources\n",
      "\n",
      "9. Fact Check: Yes, CO2 is a Greenhouse Gas\n",
      "   Verdict: TRUE\n",
      "   Summary: Carbon dioxide (CO2) is unequivocally a greenhouse gas. This means it absorbs and emits radiant energy within the thermal infrared range, effectively trapping heat in Earth's atmosphere. This fundamental physical property of CO2 has been established and understood through scientific research and experimentation since the 1800s.\n",
      "   Bottom Line: The claim that CO2 is a greenhouse gas is TRUE. This is a fundamental and well-understood principle of physics, crucial to explaining Earth's climate and the impact of human activities.\n",
      "   Citations: 3 sources\n"
     ]
    }
   ],
   "source": [
    "# ============================================================================\n",
    "# AGENT 3 - EVIDENCE SYNTHESIZER \n",
    "# ============================================================================\n",
    "class EvidenceSynthesizerAgent:\n",
    "    \"\"\"Agent 3: Synthesizes evidence into clear fact-checks\"\"\"\n",
    "    \n",
    "    def __init__(self, model):\n",
    "        self.model = model\n",
    "    \n",
    "    def synthesize_evidence(self, verification_data: Dict[str, Any]) -> Dict[str, Any]:\n",
    "        \"\"\"Create clear fact-check from verification data\"\"\"\n",
    "        try:\n",
    "            if verification_data['status'] != 'success':\n",
    "                return {'status': 'skipped'}\n",
    "            \n",
    "            claim = verification_data.get('original_claim', '')\n",
    "            verdict = verification_data.get('verdict', '')\n",
    "            evidence = verification_data.get('supporting_evidence', [])\n",
    "            sources = verification_data.get('authoritative_sources', [])\n",
    "            \n",
    "            prompt = f\"\"\"Create a clear, accessible fact-check for the public:\n",
    "\n",
    "CLAIM: \"{claim}\"\n",
    "VERDICT: {verdict}\n",
    "EVIDENCE: {json.dumps(evidence)}\n",
    "SOURCES: {json.dumps(sources)}\n",
    "\n",
    "Generate a fact-check in JSON format:\n",
    "{{\n",
    "    \"headline\": \"\",\n",
    "    \"summary\": \"<2-3 sentence summary for general public>\",\n",
    "    \"key_evidence\": [\"point1\", \"point2\", \"point3\"],\n",
    "    \"what_science_says\": \"\",\n",
    "    \"citations\": [\n",
    "        {{\"source\": \"NASA\", \"fact\": \"specific fact\", \"url\": \"https://climate.nasa.gov/...\"}},\n",
    "        {{\"source\": \"IPCC\", \"fact\": \"specific fact\", \"url\": \"https://ipcc.ch/...\"}}\n",
    "    ],\n",
    "    \"bottom_line\": \"\"\n",
    "}}\"\"\"\n",
    "\n",
    "            response = self.model.generate_content(prompt)\n",
    "            text_response = response.text\n",
    "            \n",
    "            # Extract JSON\n",
    "            json_start = text_response.find('{')\n",
    "            json_end = text_response.rfind('}') + 1\n",
    "            result = json.loads(text_response[json_start:json_end])\n",
    "            \n",
    "            result['original_claim'] = claim\n",
    "            result['verdict'] = verdict\n",
    "            result['status'] = 'success'\n",
    "            \n",
    "            return result\n",
    "            \n",
    "        except Exception as e:\n",
    "            return {\n",
    "                'status': 'error',\n",
    "                'error_message': str(e)\n",
    "            }\n",
    "    \n",
    "    def execute(self, verified_claims: List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n",
    "        \"\"\"Synthesize evidence for all verified claims\"\"\"\n",
    "        print(f\"üìö Agent 3: Synthesizing evidence into fact-checks...\")\n",
    "        \n",
    "        results = []\n",
    "        for i, claim in enumerate(verified_claims, 1):\n",
    "            if claim['status'] == 'success':\n",
    "                print(f\"  ‚Üí Creating fact-check {i}...\")\n",
    "                result = self.synthesize_evidence(claim)\n",
    "                results.append(result)\n",
    "            else:\n",
    "                results.append({'status': 'skipped'})\n",
    "        \n",
    "        successful = sum(1 for r in results if r['status'] == 'success')\n",
    "        print(f\"‚úÖ Agent 3 Complete: {successful} fact-checks created\")\n",
    "        \n",
    "        return results\n",
    "\n",
    "# Test Agent 3\n",
    "agent3 = EvidenceSynthesizerAgent(model)\n",
    "synthesized_evidence = agent3.execute(verified_claims)\n",
    "\n",
    "# Display results\n",
    "print(\"\\nüìö FACT-CHECK SUMMARIES:\")\n",
    "print(\"=\" * 70)\n",
    "for i, result in enumerate(synthesized_evidence, 1):\n",
    "    if result['status'] == 'success':\n",
    "        print(f\"\\n{i}. {result.get('headline', 'N/A')}\")\n",
    "        print(f\"   Verdict: {result.get('verdict', 'N/A')}\")\n",
    "        print(f\"   Summary: {result.get('summary', '')}\")\n",
    "        print(f\"   Bottom Line: {result.get('bottom_line', '')}\")\n",
    "        print(f\"   Citations: {len(result.get('citations', []))} sources\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "3af59a9e",
   "metadata": {
    "papermill": {
     "duration": 0.010757,
     "end_time": "2025-12-01T17:51:28.593144",
     "exception": false,
     "start_time": "2025-12-01T17:51:28.582387",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 7: Agent 4 - The Credibility Scorer\n",
    "\n",
    "Now we need to put a number on how trustworthy each claim actually is. Think of this like a credit score, but for facts.\n",
    "\n",
    "**What it does:**\n",
    "- Looks at how many peer-reviewed sources cited the claim (peer review score)\n",
    "- Checks if the sources are from trusted institutions like NASA, IPCC, NOAA (source quality)\n",
    "- Sees what percentage of scientists agree (scientific consensus)\n",
    "- Weights these three factors together using our formula\n",
    "\n",
    "**The Scoring Formula:**\n",
    "\n",
    "Final Score = (Peer Review √ó 40%) + (Source Quality √ó 30%) + (Consensus √ó 30%)\n",
    "\n",
    "\n",
    "**What it outputs:**\n",
    "- A score from 0-100\n",
    "- A rating: \"Highly Credible\" (80+), \"Credible\" (60-79), \"Questionable\" (40-59), or \"Not Credible\" (<40)\n",
    "- Breakdown of all three component scores\n",
    "- Count of trusted sources used\n",
    "\n",
    "This gives you a transparent, reproducible credibility rating for every single claim. No mystery‚Äîyou can see exactly how we got the score. ‚≠ê\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "cd24bb8e",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:51:28.609904Z",
     "iopub.status.busy": "2025-12-01T17:51:28.609344Z",
     "iopub.status.idle": "2025-12-01T17:51:28.629381Z",
     "shell.execute_reply": "2025-12-01T17:51:28.628558Z"
    },
    "papermill": {
     "duration": 0.029759,
     "end_time": "2025-12-01T17:51:28.630942",
     "exception": false,
     "start_time": "2025-12-01T17:51:28.601183",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚≠ê Agent 4: Calculating credibility scores...\n",
      "  ‚Üí Scoring claim 1...\n",
      "  ‚Üí Scoring claim 2...\n",
      "  ‚Üí Scoring claim 3...\n",
      "  ‚Üí Scoring claim 4...\n",
      "  ‚Üí Scoring claim 5...\n",
      "  ‚Üí Scoring claim 6...\n",
      "  ‚Üí Scoring claim 7...\n",
      "  ‚Üí Scoring claim 8...\n",
      "  ‚Üí Scoring claim 9...\n",
      "‚úÖ Agent 4 Complete: 9 scores calculated\n",
      "\n",
      "‚≠ê CREDIBILITY SCORES:\n",
      "======================================================================\n",
      "\n",
      "1. Claim: Electric vehicles are worse for the environment th...\n",
      "   Verdict: FALSE\n",
      "   Credibility: 62.5/100 (Credible)\n",
      "   Breakdown:\n",
      "     - Peer Review: 60/100\n",
      "     - Source Quality: 33.3/100\n",
      "     - Scientific Consensus: 95/100\n",
      "\n",
      "2. Claim: The full lifecycle of solar panels (manufacturing,...\n",
      "   Verdict: FALSE\n",
      "   Credibility: 83.7/100 (Highly Credible)\n",
      "   Breakdown:\n",
      "     - Peer Review: 60/100\n",
      "     - Source Quality: 100.0/100\n",
      "     - Scientific Consensus: 99/100\n",
      "\n",
      "3. Claim: Nuclear power plants cause more deaths than coal...\n",
      "   Verdict: FALSE\n",
      "   Credibility: 60.5/100 (Credible)\n",
      "   Breakdown:\n",
      "     - Peer Review: 80/100\n",
      "     - Source Quality: 0.0/100\n",
      "     - Scientific Consensus: 95/100\n",
      "\n",
      "4. Claim: Planting trees alone is sufficient to stop climate...\n",
      "   Verdict: MISLEADING\n",
      "   Credibility: 83.1/100 (Highly Credible)\n",
      "   Breakdown:\n",
      "     - Peer Review: 60/100\n",
      "     - Source Quality: 100.0/100\n",
      "     - Scientific Consensus: 97/100\n",
      "\n",
      "5. Claim: Arctic ice is increasing...\n",
      "   Verdict: FALSE\n",
      "   Credibility: 84.0/100 (Highly Credible)\n",
      "   Breakdown:\n",
      "     - Peer Review: 60/100\n",
      "     - Source Quality: 100.0/100\n",
      "     - Scientific Consensus: 100/100\n",
      "\n",
      "6. Claim: Climate models are not accurate in their predictio...\n",
      "   Verdict: FALSE\n",
      "   Credibility: 83.4/100 (Highly Credible)\n",
      "   Breakdown:\n",
      "     - Peer Review: 60/100\n",
      "     - Source Quality: 100.0/100\n",
      "     - Scientific Consensus: 98/100\n",
      "\n",
      "7. Claim: Volcanoes emit more CO2 than humans...\n",
      "   Verdict: FALSE\n",
      "   Credibility: 83.6/100 (Highly Credible)\n",
      "   Breakdown:\n",
      "     - Peer Review: 80/100\n",
      "     - Source Quality: 75.0/100\n",
      "     - Scientific Consensus: 97/100\n",
      "\n",
      "8. Claim: A few degrees of global warming will not have a si...\n",
      "   Verdict: FALSE\n",
      "   Credibility: 91.1/100 (Highly Credible)\n",
      "   Breakdown:\n",
      "     - Peer Review: 80/100\n",
      "     - Source Quality: 100.0/100\n",
      "     - Scientific Consensus: 97/100\n",
      "\n",
      "9. Claim: CO2 is a greenhouse gas...\n",
      "   Verdict: TRUE\n",
      "   Credibility: 84.0/100 (Highly Credible)\n",
      "   Breakdown:\n",
      "     - Peer Review: 60/100\n",
      "     - Source Quality: 100.0/100\n",
      "     - Scientific Consensus: 100/100\n"
     ]
    }
   ],
   "source": [
    "# ============================================================================\n",
    "# AGENT 4 - GIVE CREDEBILITY SCORE \n",
    "# ============================================================================\n",
    "class CredibilityScorerAgent:\n",
    "    \"\"\"Agent 4: Calculates credibility scores for claims\"\"\"\n",
    "    \n",
    "    def __init__(self, config):\n",
    "        self.config = config\n",
    "        self.weights = config['credibility_weights']\n",
    "    \n",
    "    def calculate_score(self, verification_data: Dict[str, Any], \n",
    "                       evidence_data: Dict[str, Any]) -> Dict[str, Any]:\n",
    "        \"\"\"Calculate comprehensive credibility score\"\"\"\n",
    "        try:\n",
    "            if verification_data['status'] != 'success':\n",
    "                return {'status': 'skipped'}\n",
    "            \n",
    "            # Extract data\n",
    "            verdict = verification_data.get('verdict', '')\n",
    "            consensus = verification_data.get('scientific_consensus', 0)\n",
    "            sources = verification_data.get('authoritative_sources', [])\n",
    "            citations = evidence_data.get('citations', [])\n",
    "            \n",
    "            # Calculate component scores\n",
    "            # 1. Peer Review Score (0-100)\n",
    "            peer_review_score = min(len(citations) * 20, 100)  # Max 5 citations\n",
    "            \n",
    "            # 2. Source Quality Score (0-100)\n",
    "            trusted_sources = {'NASA', 'IPCC', 'NOAA', 'NSIDC'}\n",
    "            source_quality = (len([s for s in sources if s in trusted_sources]) / \n",
    "                            max(len(sources), 1) * 100) if sources else 0\n",
    "            \n",
    "            # 3. Scientific Consensus Score (0-100)\n",
    "            consensus_score = consensus\n",
    "            \n",
    "            # Weighted final score\n",
    "            final_score = (\n",
    "                peer_review_score * self.weights['peer_reviewed'] +\n",
    "                source_quality * self.weights['government_source'] +\n",
    "                consensus_score * self.weights['scientific_consensus']\n",
    "            )\n",
    "            \n",
    "            # Determine rating\n",
    "            if final_score >= 80:\n",
    "                rating = 'Highly Credible'\n",
    "            elif final_score >= 60:\n",
    "                rating = 'Credible'\n",
    "            elif final_score >= 40:\n",
    "                rating = 'Questionable'\n",
    "            else:\n",
    "                rating = 'Not Credible'\n",
    "            \n",
    "            return {\n",
    "                'claim': verification_data.get('original_claim', ''),\n",
    "                'verdict': verdict,\n",
    "                'credibility_score': round(final_score, 1),\n",
    "                'rating': rating,\n",
    "                'breakdown': {\n",
    "                    'peer_review': round(peer_review_score, 1),\n",
    "                    'source_quality': round(source_quality, 1),\n",
    "                    'scientific_consensus': round(consensus_score, 1)\n",
    "                },\n",
    "                'citations_count': len(citations),\n",
    "                'trusted_sources': len([s for s in sources if s in trusted_sources]),\n",
    "                'status': 'success'\n",
    "            }\n",
    "            \n",
    "        except Exception as e:\n",
    "            return {\n",
    "                'status': 'error',\n",
    "                'error_message': str(e)\n",
    "            }\n",
    "    \n",
    "    def execute(self, verified_claims: List[Dict[str, Any]], \n",
    "                synthesized_evidence: List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n",
    "        \"\"\"Score all claims\"\"\"\n",
    "        print(f\"‚≠ê Agent 4: Calculating credibility scores...\")\n",
    "        \n",
    "        results = []\n",
    "        for i, (verification, evidence) in enumerate(zip(verified_claims, synthesized_evidence), 1):\n",
    "            if verification['status'] == 'success' and evidence['status'] == 'success':\n",
    "                print(f\"  ‚Üí Scoring claim {i}...\")\n",
    "                result = self.calculate_score(verification, evidence)\n",
    "                results.append(result)\n",
    "            else:\n",
    "                results.append({'status': 'skipped'})\n",
    "        \n",
    "        successful = sum(1 for r in results if r['status'] == 'success')\n",
    "        print(f\"‚úÖ Agent 4 Complete: {successful} scores calculated\")\n",
    "        \n",
    "        return results\n",
    "\n",
    "# Test Agent 4\n",
    "agent4 = CredibilityScorerAgent(CONFIG)\n",
    "credibility_scores = agent4.execute(verified_claims, synthesized_evidence)\n",
    "\n",
    "# Display results\n",
    "print(\"\\n‚≠ê CREDIBILITY SCORES:\")\n",
    "print(\"=\" * 70)\n",
    "for i, result in enumerate(credibility_scores, 1):\n",
    "    if result['status'] == 'success':\n",
    "        print(f\"\\n{i}. Claim: {result.get('claim', '')[:50]}...\")\n",
    "        print(f\"   Verdict: {result.get('verdict', 'N/A')}\")\n",
    "        print(f\"   Credibility: {result.get('credibility_score', 0)}/100 ({result.get('rating', '')})\")\n",
    "        print(f\"   Breakdown:\")\n",
    "        breakdown = result.get('breakdown', {})\n",
    "        print(f\"     - Peer Review: {breakdown.get('peer_review', 0)}/100\")\n",
    "        print(f\"     - Source Quality: {breakdown.get('source_quality', 0)}/100\")\n",
    "        print(f\"     - Scientific Consensus: {breakdown.get('scientific_consensus', 0)}/100\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "50db5137",
   "metadata": {
    "papermill": {
     "duration": 0.00659,
     "end_time": "2025-12-01T17:51:28.645349",
     "exception": false,
     "start_time": "2025-12-01T17:51:28.638759",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 8: Agent 5 - The Counter-Narrative Generator\n",
    "\n",
    "This is the final boss. Agent 5 takes everything we've learned and creates sharable content that actually changes minds.\n",
    "\n",
    "**What it does:**\n",
    "- Takes the verified information from all previous agents\n",
    "- Creates custom content for EVERY major social platform (Twitter, Facebook, Instagram, LinkedIn, TikTok)\n",
    "- Generates an infographic layout with key numbers and visual elements\n",
    "- Writes detailed explanations that address common misconceptions\n",
    "- Builds credibility markers and engagement hooks\n",
    "- Crafts a compelling call-to-action\n",
    "\n",
    "**What it outputs (COMPLETE PACKAGE):**\n",
    "- **Social Media Posts** - Pre-written, platform-optimized posts ready to share\n",
    "- **Infographic Text** - Visual layout suggestions with \"Myth vs. Reality\" comparisons\n",
    "- **Detailed Explanation** - Deep dive into WHY the claim is wrong\n",
    "- **Credibility Markers** - \"Here's what peer-reviewed research shows...\"\n",
    "- **Engagement Hooks** - Questions and surprising facts to spark conversation\n",
    "- **Hashtags** - Trending and topic-specific tags\n",
    "- **Call-to-Action** - Persuasive message encouraging shares\n",
    "- **Source Citations** - Full references with credibility explanations\n",
    "\n",
    "This is where the rubber REALLY meets the road‚Äîyou get a complete, ready-to-deploy counter-narrative package. No more \"I heard climate change is a hoax\" going unanswered. You have the facts, the framing, AND the reach. üì±\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "c619616a",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:51:28.665337Z",
     "iopub.status.busy": "2025-12-01T17:51:28.665037Z",
     "iopub.status.idle": "2025-12-01T17:51:28.675752Z",
     "shell.execute_reply": "2025-12-01T17:51:28.675047Z"
    },
    "papermill": {
     "duration": 0.022982,
     "end_time": "2025-12-01T17:51:28.677151",
     "exception": false,
     "start_time": "2025-12-01T17:51:28.654169",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ Agent 5 (Counter-Narrative Generator) class defined successfully!\n"
     ]
    }
   ],
   "source": [
    "# ============================================================================\n",
    "# AGENT 5 - COUNTER NARRATIVE GENERATOR\n",
    "# ============================================================================\n",
    "\n",
    "class CounterNarrativeGeneratorAgent:\n",
    "    \"\"\"Agent 5: Generates detailed, shareable counter-narratives with visual elements\"\"\"\n",
    "    \n",
    "    def __init__(self, model, config):\n",
    "        self.model = model\n",
    "        self.config = config\n",
    "        self.counter_narratives = []\n",
    "    \n",
    "    def generate_narrative(self, verified_claim: Dict[str, Any]) -> Dict[str, Any]:\n",
    "        \"\"\"Generate comprehensive counter-narrative\"\"\"\n",
    "        try:\n",
    "            original_claim = verified_claim.get('original_claim', '')\n",
    "            verdict = verified_claim.get('verdict', 'UNKNOWN')\n",
    "            explanation = verified_claim.get('explanation', '')\n",
    "            sources = verified_claim.get('authoritative_sources', [])\n",
    "            evidence = verified_claim.get('supporting_evidence', [])\n",
    "            \n",
    "            prompt = f\"\"\"You are an expert science communicator creating compelling counter-narratives to climate misinformation.\n",
    "\n",
    "MISINFORMATION: \"{original_claim}\"\n",
    "VERDICT: {verdict}\n",
    "SCIENTIFIC EXPLANATION: {explanation}\n",
    "AUTHORITATIVE SOURCES: {', '.join(sources)}\n",
    "SUPPORTING EVIDENCE: {', '.join(evidence)}\n",
    "\n",
    "Create a comprehensive, engaging counter-narrative package in JSON format:\n",
    "{{\n",
    "    \"verdict\": \"{verdict}\",\n",
    "    \"short_summary\": \"<1-sentence summary for busy readers>\",\n",
    "    \n",
    "    \"social_media\": {{\n",
    "        \"twitter_280\": \"<Tweet under 280 chars with emojis, fact, and #FactCheck>\",\n",
    "        \"twitter_extended\": \"<280-500 char version with more details and credibility markers>\",\n",
    "        \"facebook_long\": \"<800-1200 char detailed post with opening hook, explanation, and call-to-action>\",\n",
    "        \"instagram_caption\": \"<Caption with emojis, key takeaway, and save/share CTA>\",\n",
    "        \"linkedin_professional\": \"<Professional post for workplace/academic audience with sources>\",\n",
    "        \"tiktok_script\": \"<15-30 second video script with hook, main point, and CTA>\"\n",
    "    }},\n",
    "    \n",
    "    \"infographic_text\": {{\n",
    "        \"headline\": \"<Bold eye-catching headline>\",\n",
    "        \"claim_vs_reality\": [\n",
    "            {{\"false_claim\": \"...\", \"scientific_reality\": \"...\"}},\n",
    "            {{\"false_claim\": \"...\", \"scientific_reality\": \"...\"}}\n",
    "        ],\n",
    "        \"key_numbers\": [\"stat 1\", \"stat 2\", \"stat 3\"],\n",
    "        \"visual_elements\": [\"emoji suggestion 1\", \"emoji suggestion 2\"]\n",
    "    }},\n",
    "    \n",
    "    \"detailed_explanation\": {{\n",
    "        \"why_its_wrong\": \"<2-3 paragraphs explaining why the claim is false/misleading with concrete examples>\",\n",
    "        \"scientific_consensus\": \"<What the scientific community actually agrees on with percentages>\",\n",
    "        \"real_world_examples\": [\"example 1 with specifics\", \"example 2 with specifics\"],\n",
    "        \"common_misconceptions\": [\"misconception 1 addressed\", \"misconception 2 addressed\"]\n",
    "    }},\n",
    "    \n",
    "    \"credibility_markers\": [\n",
    "        \"peer-reviewed research showing...\",\n",
    "        \"official data from [SOURCE] demonstrates...\",\n",
    "        \"consensus among X% of scientists that...\"\n",
    "    ],\n",
    "    \n",
    "    \"engagement_hooks\": [\n",
    "        \"<Question to spark conversation>\",\n",
    "        \"<Surprising fact that engages audience>\",\n",
    "        \"<Personal impact statement>\"\n",
    "    ],\n",
    "    \n",
    "    \"hashtags\": [\"#FactCheck\", \"#ClimateScience\", \"#ScienceMatters\", \"<topic-specific tags>\"],\n",
    "    \n",
    "    \"call_to_action\": \"<Persuasive CTA encouraging shares, learning, or action>\",\n",
    "    \n",
    "    \"sources_cited\": [\n",
    "        {{\"source\": \"source name\", \"link\": \"url\", \"why_credible\": \"explanation\"}}\n",
    "    ]\n",
    "}}\n",
    "\"\"\"\n",
    "\n",
    "            response = self.model.generate_content(prompt)\n",
    "            text_response = response.text.strip()\n",
    "            \n",
    "            # Remove markdown fences\n",
    "            text_response = text_response.replace('```json', '').replace('```', '').strip()\n",
    "            \n",
    "            # Extract JSON\n",
    "            json_start = text_response.find('{')\n",
    "            json_end = text_response.rfind('}') + 1\n",
    "            \n",
    "            if json_start == -1 or json_end <= json_start:\n",
    "                raise ValueError(\"No JSON found in response\")\n",
    "            \n",
    "            result = json.loads(text_response[json_start:json_end])\n",
    "            result['original_misinformation'] = original_claim\n",
    "            result['status'] = 'success'\n",
    "            \n",
    "            return result\n",
    "            \n",
    "        except Exception as e:\n",
    "            return {\n",
    "                'original_misinformation': original_claim,\n",
    "                'status': 'error',\n",
    "                'error_message': str(e)\n",
    "            }\n",
    "    \n",
    "    def execute(self, verified_claims: List[Dict[str, Any]]) -> List[Dict[str, Any]]:\n",
    "        \"\"\"Generate counter-narratives for all verified claims\"\"\"\n",
    "        print(f\"\\n‚úçÔ∏è  Agent 5: Generating detailed counter-narratives...\")\n",
    "        \n",
    "        results = []\n",
    "        successful = 0\n",
    "        \n",
    "        for i, claim in enumerate(verified_claims, 1):\n",
    "            if claim.get('status') == 'success':\n",
    "                print(f\"  ‚Üí Creating counter-narrative {i}...\")\n",
    "                narrative = self.generate_narrative(claim)\n",
    "                if narrative.get('status') == 'success':\n",
    "                    successful += 1\n",
    "                results.append(narrative)\n",
    "            else:\n",
    "                results.append({'status': 'skipped', 'reason': 'Verification failed'})\n",
    "        \n",
    "        print(f\"‚úÖ Agent 5 Complete: {successful} counter-narratives created\\n\")\n",
    "        self.counter_narratives = results\n",
    "        return results\n",
    "    print(\"‚úÖ Agent 5 (Counter-Narrative Generator) class defined successfully!\")\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "0d31cf3f",
   "metadata": {
    "papermill": {
     "duration": 0.00593,
     "end_time": "2025-12-01T17:51:28.689658",
     "exception": false,
     "start_time": "2025-12-01T17:51:28.683728",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 9: The Orchestrator - Bringing It All Together\n",
    "\n",
    "This is mission control. The Orchestrator is like a conductor leading a symphony of 5 AI agents, each playing their part in perfect harmony.\n",
    "\n",
    "**What it does:**\n",
    "1. **Takes in raw claims** (like \"Climate change is a hoax\")\n",
    "2. **Runs them through Agent 1** ‚Üí Claims get classified\n",
    "3. **Passes to Agent 2** ‚Üí Claims get fact-checked\n",
    "4. **Sends to Agent 3** ‚Üí Evidence gets synthesized\n",
    "5. **Goes to Agent 4** ‚Üí Credibility scores calculated\n",
    "6. **Finally to Agent 5** ‚Üí Counter-narratives generated\n",
    "7. **Compiles everything** into one comprehensive report\n",
    "\n",
    "**The Complete Pipeline:**\n",
    "Raw Claims ‚Üí Agent 1 ‚Üí Agent 2 ‚Üí Agent 3 ‚Üí Agent 4 ‚Üí Agent 5 ‚Üí Final Report\n",
    "\n",
    "\n",
    "**What it outputs:**\n",
    "- A complete JSON report with ALL agent outputs preserved (nothing gets lost)\n",
    "- Summary statistics (how many true/false, average credibility)\n",
    "- Timestamp of when it was generated\n",
    "- System configuration used\n",
    "- Ready to be saved or displayed\n",
    "\n",
    "**Key Features:**\n",
    "- Sequential execution (each agent feeds into the next)\n",
    "- Error handling (skips failed claims gracefully)\n",
    "- Full transparency (you can see what each agent did)\n",
    "- Exportable reports (saves to JSON for later use or PDF generation)\n",
    "- Beautiful summary display (human-readable results)\n",
    "\n",
    "Think of it like an assembly line: raw materials go in one end, a finished product comes out the other. üè≠\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "7f28a569",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:51:28.702903Z",
     "iopub.status.busy": "2025-12-01T17:51:28.702609Z",
     "iopub.status.idle": "2025-12-01T17:51:28.716713Z",
     "shell.execute_reply": "2025-12-01T17:51:28.715996Z"
    },
    "papermill": {
     "duration": 0.022306,
     "end_time": "2025-12-01T17:51:28.717706",
     "exception": false,
     "start_time": "2025-12-01T17:51:28.695400",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ Orchestrator class defined successfully!\n"
     ]
    }
   ],
   "source": [
    "# ============================================================================\n",
    "# ORCHESTRATOR \n",
    "# ============================================================================\n",
    "\n",
    "class ClimateFactCheckOrchestrator:\n",
    "    \"\"\"Orchestrates all 5 agents for complete fact-checking pipeline\"\"\"\n",
    "    \n",
    "    def __init__(self, model, config):\n",
    "        self.model = model\n",
    "        self.config = config\n",
    "        \n",
    "        # Initialize all agents\n",
    "        self.agent1 = ClaimDetectorAgent(model, config)\n",
    "        self.agent2 = SourceVerifierAgent(model, config)\n",
    "        self.agent3 = EvidenceSynthesizerAgent(model)\n",
    "        self.agent4 = CredibilityScorerAgent(config)\n",
    "        self.agent5 = CounterNarrativeGeneratorAgent(model, config)\n",
    "    \n",
    "    def execute(self, claims: List[str]) -> Dict[str, Any]:\n",
    "        \"\"\"Execute complete fact-checking pipeline\"\"\"\n",
    "        print(\"=\" * 80)\n",
    "        print(\"üåç CLIMATE MISINFORMATION COMBAT AGENT - FULL PIPELINE\")\n",
    "        print(\"=\" * 80)\n",
    "        print(f\"Processing {len(claims)} claims...\")\n",
    "        print(\"=\" * 80)\n",
    "        print()\n",
    "        \n",
    "        # Sequential agent execution\n",
    "        detected = self.agent1.execute(claims)\n",
    "        print()\n",
    "        \n",
    "        verified = self.agent2.execute(detected)\n",
    "        print()\n",
    "        \n",
    "        synthesized = self.agent3.execute(verified)\n",
    "        print()\n",
    "        \n",
    "        scored = self.agent4.execute(verified, synthesized)\n",
    "        print()\n",
    "        \n",
    "        # CORRECT usage of Agent 5: only pass verified claims\n",
    "        counter_narratives = self.agent5.execute(verified)\n",
    "        print()\n",
    "        \n",
    "        # Compile final report preserving detailed outputs\n",
    "        report = self._compile_report(claims, detected, verified, synthesized, scored, counter_narratives)\n",
    "        \n",
    "        print(\"=\" * 80)\n",
    "        print(\"‚úÖ FACT-CHECKING PIPELINE COMPLETE!\")\n",
    "        print(\"=\" * 80)\n",
    "        \n",
    "        return report\n",
    "    \n",
    "    def _compile_report(self, claims, detected, verified, synthesized, scored, counter_narratives) -> Dict[str, Any]:\n",
    "        \"\"\"Compile comprehensive report preserving full agent outputs\"\"\"\n",
    "        fact_checks = []\n",
    "        \n",
    "        for i in range(len(claims)):\n",
    "            if (detected[i]['status'] == 'success' and \n",
    "                verified[i]['status'] == 'success' and\n",
    "                synthesized[i]['status'] == 'success' and\n",
    "                scored[i]['status'] == 'success' and\n",
    "                counter_narratives[i]['status'] == 'success'):\n",
    "                \n",
    "                fact_checks.append({\n",
    "                    'original_claim': claims[i],\n",
    "                    'agent1_detection': detected[i],        # Full agent 1 output\n",
    "                    'agent2_verification': verified[i],    # Full agent 2 output\n",
    "                    'agent3_synthesis': synthesized[i],    # Full agent 3 output\n",
    "                    'agent4_credibility': scored[i],       # Full agent 4 output\n",
    "                    'agent5_counter_narrative': counter_narratives[i]  # Full agent 5 output\n",
    "                })\n",
    "        \n",
    "        return {\n",
    "            'report_timestamp': datetime.now().isoformat(),\n",
    "            'total_claims_analyzed': len(claims),\n",
    "            'successful_fact_checks': len(fact_checks),\n",
    "            'system_config': {\n",
    "                'consensus_threshold': self.config['consensus_threshold'],\n",
    "                'scientific_sources': list(self.config['scientific_sources'].keys())\n",
    "            },\n",
    "            'fact_checks': fact_checks,\n",
    "            'summary': {\n",
    "                'false_claims': sum(1 for fc in fact_checks if 'FALSE' in fc['agent2_verification']['verdict']),\n",
    "                'true_claims': sum(1 for fc in fact_checks if 'TRUE' in fc['agent2_verification']['verdict']),\n",
    "                'avg_credibility': sum(fc['agent4_credibility']['credibility_score'] for fc in fact_checks) / len(fact_checks) if fact_checks else 0\n",
    "            }\n",
    "        }\n",
    "    \n",
    "    def save_report(self, report: Dict[str, Any], filename='climate_fact_check_report.json'):\n",
    "        \"\"\"Save report to JSON file\"\"\"\n",
    "        with open(filename, 'w') as f:\n",
    "            json.dump(report, f, indent=2)\n",
    "        print(f\"üíæ Report saved to {filename}\")\n",
    "        return filename\n",
    "    \n",
    "    def display_summary(self, report: Dict[str, Any]):\n",
    "        \"\"\"Display human-readable summary\"\"\"\n",
    "        print(\"\\n\" + \"=\" * 80)\n",
    "        print(\"üìä FACT-CHECK SUMMARY REPORT\")\n",
    "        print(\"=\" * 80)\n",
    "        \n",
    "        print(f\"\\nüìÖ Report Date: {report['report_timestamp']}\")\n",
    "        print(f\"üìã Claims Analyzed: {report['total_claims_analyzed']}\")\n",
    "        print(f\"‚úÖ Successful Fact-Checks: {report['successful_fact_checks']}\")\n",
    "        \n",
    "        summary = report['summary']\n",
    "        print(f\"\\nüìä RESULTS BREAKDOWN:\")\n",
    "        print(f\"  ‚ùå False Claims: {summary['false_claims']}\")\n",
    "        print(f\"  ‚úÖ True Claims: {summary['true_claims']}\")\n",
    "        print(f\"  üìà Avg Credibility Score: {summary['avg_credibility']:.1f}/100\")\n",
    "        \n",
    "        print(f\"\\nüî¨ DETAILED FACT-CHECKS:\")\n",
    "        print(\"=\" * 80)\n",
    "        \n",
    "        for i, fc in enumerate(report['fact_checks'], 1):\n",
    "            print(f\"\\n{i}. CLAIM: {fc['original_claim']}\")\n",
    "            print(f\"   üìå Detection: {fc['agent1_detection']}\")\n",
    "            print(f\"   üîç Verification: {fc['agent2_verification']}\")\n",
    "            print(f\"   üìù Synthesis: {fc['agent3_synthesis']}\")\n",
    "            print(f\"   ‚≠ê Credibility: {fc['agent4_credibility']}\")\n",
    "            print(f\"   üì± Counter-Narrative: {fc['agent5_counter_narrative']}\")\n",
    "            \n",
    "print(\"‚úÖ Orchestrator class defined successfully!\")\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2d25ba6f",
   "metadata": {
    "papermill": {
     "duration": 0.0062,
     "end_time": "2025-12-01T17:51:28.731094",
     "exception": false,
     "start_time": "2025-12-01T17:51:28.724894",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 10: The Web Scraper - Finding Real Claims\n",
    "\n",
    "Now we're getting real data from the actual internet. This scraper finds actual climate-related claims from news sources so we can fact-check what people are actually saying right now.\n",
    "\n",
    "**What it does:**\n",
    "- Connects to Google News RSS feed\n",
    "- Searches for climate-related articles and headlines\n",
    "- Extracts the actual claim text from real news sources\n",
    "- Handles errors gracefully (if scraping fails, falls back to sample claims)\n",
    "- Respects rate limits and uses proper HTTP headers\n",
    "\n",
    "**Why it matters:**\n",
    "- Instead of fake sample data, we're now processing REAL headlines\n",
    "- These are actual claims people are reading and sharing\n",
    "- You get immediate, current fact-checks\n",
    "- Perfect for understanding what misinformation is spreading RIGHT NOW\n",
    "\n",
    "**Fallback Logic:**\n",
    "- If live scraping works ‚Üí Use real news claims ‚úÖ\n",
    "- If scraping fails ‚Üí Use sample claims as backup ‚ö†Ô∏è\n",
    "- Either way, you get claims to fact-check\n",
    "\n",
    "**Important Note:**\n",
    "The scraper is polite:\n",
    "- Respects robots.txt\n",
    "- Uses proper User-Agent headers\n",
    "- Includes reasonable timeouts\n",
    "- Doesn't hammer servers with requests\n",
    "\n",
    "This is where we go from \"theoretical exercise\" to \"fighting real misinformation in the wild\" üåê\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "d270f05e",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:51:28.744941Z",
     "iopub.status.busy": "2025-12-01T17:51:28.744367Z",
     "iopub.status.idle": "2025-12-01T17:51:30.687725Z",
     "shell.execute_reply": "2025-12-01T17:51:30.686696Z"
    },
    "papermill": {
     "duration": 1.951555,
     "end_time": "2025-12-01T17:51:30.688864",
     "exception": false,
     "start_time": "2025-12-01T17:51:28.737309",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "üéØ FETCHING LIVE CLIMATE CLAIMS...\n",
      "================================================================================\n",
      "üåê LIVE WEB SCRAPING INITIATED\n",
      "================================================================================\n",
      "\n",
      "üì∞ Scraping climate news for 'climate change'...\n",
      "‚úÖ Found 5 news articles\n",
      "\n",
      "‚úÖ Total claims collected: 5\n",
      "================================================================================\n",
      "\n",
      "‚úÖ Using LIVE CLAIMS from Google News!\n",
      "üìä Total: 5 real-time headlines\n",
      "\n",
      "üìã CLAIMS TO BE FACT-CHECKED:\n",
      "================================================================================\n",
      "1. Many Fighting Climate Change Worry They Are Losing the Information War - The New...\n",
      "2. Solar energy protects German vineyards from climate change - DW\n",
      "3. Southeast Asia floods and landslides kill more than 1,000 as climate change turb...\n",
      "4. Once-in-a-century floods set to become annual events in northeastern US in the n...\n",
      "5. Not every flooding event can be prevented, says PUB chief, as climate change imp...\n",
      "================================================================================\n"
     ]
    }
   ],
   "source": [
    "# ============================================================================\n",
    "# WEB SCRAPPER\n",
    "# ============================================================================\n",
    "class LiveClaimScraper:\n",
    "    \"\"\"Scrapes climate-related claims from various sources with fallbacks\"\"\"\n",
    "    \n",
    "    def __init__(self, config):\n",
    "        self.config = config\n",
    "        self.headers = {\n",
    "            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\n",
    "            'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n",
    "            'Accept-Language': 'en-US,en;q=0.5',\n",
    "            'Accept-Encoding': 'gzip, deflate',\n",
    "            'Connection': 'keep-alive',\n",
    "        }\n",
    "    \n",
    "    def scrape_climate_news_rss(self, query='climate change', num_results=5):\n",
    "        \"\"\"Scrape climate news from Google News RSS\"\"\"\n",
    "        print(f\"\\nüì∞ Scraping climate news for '{query}'...\")\n",
    "        \n",
    "        try:\n",
    "            url = f\"https://news.google.com/rss/search?q={query.replace(' ', '+')}&hl=en-US&gl=US&ceid=US:en\"\n",
    "            response = requests.get(url, headers=self.headers, timeout=10)\n",
    "            \n",
    "            if response.status_code != 200:\n",
    "                print(f\"‚ö†Ô∏è  News request failed: {response.status_code}\")\n",
    "                return []\n",
    "            \n",
    "            soup = BeautifulSoup(response.content, 'xml')\n",
    "            items = soup.find_all('item')[:num_results]\n",
    "            \n",
    "            claims = []\n",
    "            for item in items:\n",
    "                title = item.find('title')\n",
    "                link = item.find('link')\n",
    "                \n",
    "                if title:\n",
    "                    claims.append({\n",
    "                        'text': title.text.strip(),\n",
    "                        'source': 'Google News',\n",
    "                        'url': link.text if link else ''\n",
    "                    })\n",
    "            \n",
    "            print(f\"‚úÖ Found {len(claims)} news articles\")\n",
    "            return claims\n",
    "            \n",
    "        except Exception as e:\n",
    "            print(f\"‚ö†Ô∏è  News scraping error: {e}\")\n",
    "            return []\n",
    "    \n",
    "    def execute(self, sources=['news'], claims_per_source=5):\n",
    "        \"\"\"Scrape claims from sources\"\"\"\n",
    "        print(\"=\" * 80)\n",
    "        print(\"üåê LIVE WEB SCRAPING INITIATED\")\n",
    "        print(\"=\" * 80)\n",
    "        \n",
    "        all_claims: List[str] = []\n",
    "        \n",
    "        if 'news' in sources:\n",
    "            news_claims = self.scrape_climate_news_rss(num_results=claims_per_source)\n",
    "            if news_claims:\n",
    "                all_claims.extend([c['text'] for c in news_claims])\n",
    "            time.sleep(1)\n",
    "        \n",
    "        print(f\"\\n‚úÖ Total claims collected: {len(all_claims)}\")\n",
    "        print(\"=\" * 80)\n",
    "        \n",
    "        return all_claims\n",
    "\n",
    "# Initialize scraper and fetch live claims\n",
    "print(\"\\nüéØ FETCHING LIVE CLIMATE CLAIMS...\")\n",
    "scraper = LiveClaimScraper({'model': None})\n",
    "live_claims = scraper.execute(sources=['news'], claims_per_source=5)\n",
    "\n",
    "# Decide which claims to use\n",
    "if live_claims and len(live_claims) > 0:\n",
    "    CLAIMS_TO_ANALYZE = live_claims\n",
    "    print(\"\\n‚úÖ Using LIVE CLAIMS from Google News!\")\n",
    "    print(f\"üìä Total: {len(CLAIMS_TO_ANALYZE)} real-time headlines\")\n",
    "else:\n",
    "    CLAIMS_TO_ANALYZE = SAMPLE_CLAIMS\n",
    "    print(\"\\n‚ö†Ô∏è  Using SAMPLE_CLAIMS as fallback\")\n",
    "    print(f\"üìä Total: {len(CLAIMS_TO_ANALYZE)} sample claims\")\n",
    "\n",
    "# Display claims (for quick confirmation)\n",
    "print(\"\\nüìã CLAIMS TO BE FACT-CHECKED:\")\n",
    "print(\"=\" * 80)\n",
    "for i, claim in enumerate(CLAIMS_TO_ANALYZE, 1):\n",
    "    preview = claim[:80] + \"...\" if len(claim) > 80 else claim\n",
    "    print(f\"{i}. {preview}\")\n",
    "print(\"=\" * 80)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a055f4db",
   "metadata": {
    "papermill": {
     "duration": 0.006305,
     "end_time": "2025-12-01T17:51:30.701927",
     "exception": false,
     "start_time": "2025-12-01T17:51:30.695622",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 11: Execute the Full Pipeline - It All Comes Together\n",
    "\n",
    "This is the moment of truth. We're about to run all 5 agents on real (or sample) climate claims and generate a comprehensive fact-checking report.\n",
    "\n",
    "**What happens here:**\n",
    "1. **Orchestrator takes the claims** (real news or samples)\n",
    "2. **Agent 1 classifies them** - Is it a climate claim? What type?\n",
    "3. **Agent 2 verifies them** - True or false? What's the consensus?\n",
    "4. **Agent 3 synthesizes** - Clear, accessible explanation\n",
    "5. **Agent 4 scores** - Credibility rating with breakdown\n",
    "6. **Agent 5 generates** - Ready-to-share social media content\n",
    "7. **Report is compiled** - Complete JSON with all outputs\n",
    "8. **Results are saved** - climate_fact_check_report.json\n",
    "9. **Summary is displayed** - Human-readable overview\n",
    "\n",
    "**Output you'll see:**\n",
    "- Progress indicators for each agent ‚úì\n",
    "- Summary statistics (true vs false claims)\n",
    "- Average credibility score\n",
    "- Full breakdown of every fact-check\n",
    "- File saved confirmation\n",
    "\n",
    "**What gets saved:**\n",
    "- Complete JSON report with ALL agent outputs\n",
    "- Timestamp of generation\n",
    "- System configuration used\n",
    "- Success/failure metrics\n",
    "- Ready for PDF generation or social media sharing\n",
    "\n",
    "This is production-grade fact-checking infrastructure. In a few seconds, you'll have transparent, verifiable, detailed fact-checks ready to share. üöÄ\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "dc3ab533",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:51:30.715626Z",
     "iopub.status.busy": "2025-12-01T17:51:30.715381Z",
     "iopub.status.idle": "2025-12-01T17:55:18.194550Z",
     "shell.execute_reply": "2025-12-01T17:55:18.193730Z"
    },
    "papermill": {
     "duration": 227.489002,
     "end_time": "2025-12-01T17:55:18.197070",
     "exception": false,
     "start_time": "2025-12-01T17:51:30.708068",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "================================================================================\n",
      "üéØ RUNNING FACT-CHECKING PIPELINE\n",
      "================================================================================\n",
      "Processing 5 claims through 5-agent system...\n",
      "================================================================================\n",
      "================================================================================\n",
      "üåç CLIMATE MISINFORMATION COMBAT AGENT - FULL PIPELINE\n",
      "================================================================================\n",
      "Processing 5 claims...\n",
      "================================================================================\n",
      "\n",
      "üîç Agent 1: Detecting claims in 5 statements...\n",
      "  ‚Üí Processing claim 1/5...\n",
      "  ‚Üí Processing claim 2/5...\n",
      "  ‚Üí Processing claim 3/5...\n",
      "  ‚Üí Processing claim 4/5...\n",
      "  ‚Üí Processing claim 5/5...\n",
      "‚úÖ Agent 1 Complete: 5/5 claims analyzed\n",
      "üéØ Claims needing verification: 1\n",
      "\n",
      "\n",
      "üî¨ Agent 2: Verifying claims against scientific sources...\n",
      "  ‚Üí Processing claim 1/5...\n",
      "  ‚Üí Processing claim 2/5...\n",
      "  ‚Üí Processing claim 3/5...\n",
      "  ‚Üí Processing claim 4/5...\n",
      "  ‚Üí Processing claim 5/5...\n",
      "‚úÖ Agent 2 Complete: 4/5 claims verified\n",
      "\n",
      "\n",
      "üìö Agent 3: Synthesizing evidence into fact-checks...\n",
      "  ‚Üí Creating fact-check 2...\n",
      "  ‚Üí Creating fact-check 3...\n",
      "  ‚Üí Creating fact-check 4...\n",
      "  ‚Üí Creating fact-check 5...\n",
      "‚úÖ Agent 3 Complete: 4 fact-checks created\n",
      "\n",
      "‚≠ê Agent 4: Calculating credibility scores...\n",
      "  ‚Üí Scoring claim 2...\n",
      "  ‚Üí Scoring claim 3...\n",
      "  ‚Üí Scoring claim 4...\n",
      "  ‚Üí Scoring claim 5...\n",
      "‚úÖ Agent 4 Complete: 4 scores calculated\n",
      "\n",
      "\n",
      "‚úçÔ∏è  Agent 5: Generating detailed counter-narratives...\n",
      "  ‚Üí Creating counter-narrative 2...\n",
      "  ‚Üí Creating counter-narrative 3...\n",
      "  ‚Üí Creating counter-narrative 4...\n",
      "  ‚Üí Creating counter-narrative 5...\n",
      "‚úÖ Agent 5 Complete: 4 counter-narratives created\n",
      "\n",
      "\n",
      "================================================================================\n",
      "‚úÖ FACT-CHECKING PIPELINE COMPLETE!\n",
      "================================================================================\n",
      "üíæ Report saved to climate_fact_check_report.json\n",
      "\n",
      "================================================================================\n",
      "üìä FACT-CHECK SUMMARY REPORT\n",
      "================================================================================\n",
      "\n",
      "üìÖ Report Date: 2025-12-01T17:55:18.177799\n",
      "üìã Claims Analyzed: 5\n",
      "‚úÖ Successful Fact-Checks: 4\n",
      "\n",
      "üìä RESULTS BREAKDOWN:\n",
      "  ‚ùå False Claims: 0\n",
      "  ‚úÖ True Claims: 4\n",
      "  üìà Avg Credibility Score: 80.9/100\n",
      "\n",
      "üî¨ DETAILED FACT-CHECKS:\n",
      "================================================================================\n",
      "\n",
      "1. CLAIM: Solar energy protects German vineyards from climate change - DW\n",
      "   üìå Detection: {'is_climate_related': True, 'claim_type': 'factual', 'main_claim': 'Solar energy provides protection to German vineyards from climate change.', 'confidence': 0.9, 'keywords': ['solar energy', 'German vineyards', 'climate change', 'adaptation', 'agrivoltaics', 'crop protection'], 'needs_verification': False, 'reasoning': \"The statement refers to the use of solar energy, likely through agrivoltaic systems (solar panels installed over cultivated land), to protect vineyards. Agrivoltaics are a known strategy for climate change adaptation, offering benefits such as: 1) providing shade to vines, reducing heat stress and sunburn from rising temperatures; 2) reducing water evaporation from soil, leading to better water efficiency during droughts; and 3) offering physical protection against extreme weather events like hail. Additionally, generating solar energy contributes to climate change mitigation by reducing greenhouse gas emissions. While the phrasing 'from climate change' is broad, it encompasses protection from its direct impacts (adaptation) and contribution to its reduction (mitigation). This is a plausible and increasingly common application of solar technology, supported by scientific research and real-world implementation.\", 'original_text': 'Solar energy protects German vineyards from climate change - DW', 'status': 'success'}\n",
      "   üîç Verification: {'verdict': 'TRUE', 'scientific_consensus': 97, 'supporting_evidence': ['Human activities (fossil fuels, deforestation) are the primary cause of recent warming. Solar energy reduces reliance on fossil fuels, thereby mitigating climate change.', 'CO2 is a greenhouse gas that traps heat in the atmosphere. Solar energy reduces CO2 emissions, slowing down global warming.', 'Climate change is increasing the frequency and intensity of extreme weather events. Solar energy systems, particularly agrivoltaics (solar panels integrated with agriculture), can provide direct local protection to vineyards from some extreme weather impacts, such as excessive heat, sunscald, or hail damage.'], 'contradicting_evidence': [], 'authoritative_sources': ['NASA', 'IPCC', 'NOAA'], 'explanation': 'Solar energy provides protection from climate change in two key ways: globally, by reducing greenhouse gas emissions and mitigating the overall warming trend; and locally, when implemented as agrivoltaics, by directly shielding vineyards from increased heat, intense sunlight, and extreme weather events like hail, which are becoming more frequent due to climate change.', 'confidence': 0.9, 'original_claim': 'Solar energy provides protection to German vineyards from climate change.', 'claim_type': 'factual', 'status': 'success'}\n",
      "   üìù Synthesis: {'headline': 'Fact Check: Solar Energy Offers Protection to German Vineyards from Climate Change', 'summary': 'Yes, solar energy offers protection to vineyards from climate change in two key ways. Globally, it mitigates climate change by reducing greenhouse gas emissions. Locally, agrivoltaic systems provide direct physical shielding against extreme weather events intensified by climate change.', 'key_evidence': ['Solar energy mitigates climate change by reducing reliance on fossil fuels, which are the primary cause of global warming.', 'By reducing CO2 emissions, solar power helps slow global warming, a major driver of extreme weather events.', 'Agrivoltaic solar systems offer direct local protection to vineyards from extreme weather impacts like excessive heat, sunscald, and hail, which are becoming more frequent and intense due to climate change.'], 'what_science_says': 'Scientific consensus confirms that human activities, primarily through the burning of fossil fuels, are the main driver of climate change, leading to an increase in the frequency and intensity of extreme weather events. Solar energy provides protection to vineyards in a dual capacity. Globally, it plays a crucial role in reducing greenhouse gas emissions, especially carbon dioxide (CO2), thereby slowing the progression of global warming and its overall impacts. Locally, innovative solar applications like agrivoltaics, where solar panels are integrated directly above agricultural land, offer physical protection to crops such as grapes. These systems can shield vines from the direct effects of extreme heat, prevent sunscald from intense UV radiation, and protect against physical damage from severe hailstorms, all of which are growing threats to vineyards under a changing climate.', 'citations': [{'source': 'NASA', 'fact': 'Human activities are the primary cause of recent global warming, leading to more frequent extreme weather events.', 'url': 'https://climate.nasa.gov/causes/'}, {'source': 'IPCC', 'fact': 'Greenhouse gas emissions, predominantly CO2 from human activities, are unequivocally causing global warming and increasing the intensity of extreme weather.', 'url': 'https://www.ipcc.ch/report/ar6/wg1/'}, {'source': 'NOAA', 'fact': 'Climate change is increasing the frequency and intensity of extreme weather events, which pose significant threats to agriculture.', 'url': 'https://www.noaa.gov/climate'}], 'bottom_line': 'Solar energy provides multifaceted protection to vineyards: it combats climate change globally by reducing emissions, and locally, agrivoltaic systems offer direct physical safeguarding against its harsh impacts, such as excessive heat, sunscald, and hail.', 'original_claim': 'Solar energy provides protection to German vineyards from climate change.', 'verdict': 'TRUE', 'status': 'success'}\n",
      "   ‚≠ê Credibility: {'claim': 'Solar energy provides protection to German vineyards from climate change.', 'verdict': 'TRUE', 'credibility_score': 83.1, 'rating': 'Highly Credible', 'breakdown': {'peer_review': 60, 'source_quality': 100.0, 'scientific_consensus': 97}, 'citations_count': 3, 'trusted_sources': 3, 'status': 'success'}\n",
      "   üì± Counter-Narrative: {'verdict': 'TRUE', 'short_summary': 'Solar energy protects German vineyards from climate change in two ways: by reducing global greenhouse gas emissions to mitigate warming and by providing direct local shielding against extreme weather through agrivoltaic systems.', 'social_media': {'twitter_280': 'TRUE! üåøüçá Solar energy offers dual protection to German vineyards from climate change. It reduces global emissions AND directly shields vines from extreme heat & hail via #Agrivoltaics. A smart win-win! #ClimateFact #FactCheck', 'twitter_extended': \"The claim that solar energy protects German vineyards from climate change is TRUE! ‚òÄÔ∏è This isn't just about clean energy; it's a powerful dual strategy. Globally, solar power helps mitigate climate change by reducing greenhouse gas emissions, slowing the overall warming trend. Locally, innovative agrivoltaic systems (solar panels integrated above crops) provide direct protection to delicate grapevines. These systems shield vineyards from intensifying heatwaves, harsh direct sunlight (preventing sunscald), and damaging extreme weather events like hail, all of which are becoming more frequent due to climate change. This synergy offers both climate mitigation and adaptation. #SolarPower #ClimateAction #FactCheck #Agrivoltaics\", 'facebook_long': \"Is it true that solar energy protects German vineyards from climate change? Absolutely YES! This isn't just wishful thinking; it's a powerful combination of global climate action and local adaptation strategies, backed by science and real-world implementation.\\n\\nFirstly, on a global scale, adopting solar energy significantly reduces our reliance on fossil fuels, which are the primary drivers of greenhouse gas emissions. By generating clean electricity, solar power helps to mitigate climate change, slowing down the overall warming trend that threatens agricultural regions worldwide, including Germany's renowned wine country. The less CO2 we release, the less severe future climate impacts will be for everyone, benefiting ecosystems far beyond the vineyard borders.\\n\\nSecondly, and perhaps more visibly for the vineyards themselves, solar energy can be integrated directly into agricultural practices through innovative 'agrivoltaics.' Imagine rows of solar panels strategically placed above grapevines. These aren't just producing clean energy; they're acting as a protective canopy! As climate change brings more frequent and intense heatwaves, extreme UV radiation, and severe weather events like hailstorms, agrivoltaic systems offer crucial local protection. They shade the delicate grapes and soil from scorching sun, reducing water evaporation, preventing sunscald, and physically shielding the vines from damaging hail. This dual-purpose infrastructure safeguards crop yield and quality while simultaneously generating renewable power.\\n\\nThis synergy between climate mitigation and on-site climate adaptation is a testament to how intelligent renewable energy deployment can create resilient food systems. So, the next time you enjoy a German Riesling, remember that solar energy might be playing a vital role in its continued production! \\n\\nShare this post to spread awareness about the multifaceted benefits of solar energy for agriculture and climate resilience! #SolarEnergy #Agrivoltaics #ClimateResilience #GermanWine #FactCheck #SustainableAgriculture #FutureOfFarming\", 'instagram_caption': \"TRUE! üçá‚òÄÔ∏è Solar energy isn't just generating clean power; it's actively protecting German vineyards from climate change! How?\\n\\n1Ô∏è‚É£ Globally: By reducing greenhouse gas emissions, it helps slow overall warming. \\n2Ô∏è‚É£ Locally: Innovative #Agrivoltaics directly shield delicate grapevines from extreme heat, sunscald, & hailstorms ‚Äì all intensified by climate change.\\n\\nIt's a brilliant blend of climate mitigation & adaptation! Double tap if you support sustainable solutions!\\n#SolarPower #ClimateAction #FactCheck #SustainableWine #GermanWine #SaveThisPost #ShareTheKnowledge\", 'linkedin_professional': \"Addressing the claim: 'Solar energy provides protection to German vineyards from climate change.' The verdict is **TRUE**. This statement highlights a crucial dual benefit of renewable energy in climate action, encompassing both global mitigation and local adaptation strategies.\\n\\nFrom a global perspective, solar energy deployment is fundamental to climate change mitigation. By displacing fossil fuel-based electricity generation, solar power significantly reduces greenhouse gas emissions, thereby mitigating the underlying cause of global warming as affirmed by bodies like the IPCC and NASA. This long-term reduction in atmospheric CO2 is vital for all agricultural sectors.\\n\\nMore acutely, at the local level, the integration of solar photovoltaic (PV) systems within agriculture, known as agrivoltaics, offers direct climate adaptation benefits. In regions like Germany, vineyards are increasingly vulnerable to climate change impacts such as prolonged heatwaves, intense UV radiation leading to sunscald, and more frequent extreme weather events including severe hailstorms. Agrivoltaic installations provide a protective canopy, moderating microclimates, reducing water stress, and physically shielding valuable crops. This innovative approach enhances vineyard resilience, ensuring crop quality and yield stability while simultaneously generating clean energy.\\n\\nThis synergy represents a robust strategy for sustainable agriculture and climate resilience, offering a blueprint for other climate-vulnerable agricultural sectors globally.\\n\\n#SolarEnergy #Agrivoltaics #ClimateChange #SustainableAgriculture #RenewableEnergy #Viticulture #ClimateResilience #ScienceCommunication\", 'tiktok_script': \"**(Scene: Upbeat, inspiring music. Show lush German vineyard, then zoom out to show solar panels subtly integrated above rows.)**\\n\\n**Hook (0-3s):** Can solar energy REALLY protect German vineyards from climate change?\\n\\n**Main Point (3-15s):** The answer is a resounding YES! It‚Äôs a double defense! First, globally, solar power cuts greenhouse gas emissions, slowing down overall warming. That‚Äôs big for *everyone*. But here's the cool part: locally, these panels aren't just making electricity. They're acting as a shield! Protecting delicate grapevines from extreme heat, harsh sunlight, and even hail, which are all becoming more common with climate change. It‚Äôs called #Agrivoltaics!\\n\\n**CTA (15-20s):** So, solar doesn't just power homes; it helps grow your wine! Mind blown? Follow for more climate facts! #SolarPower #ClimateAction #GermanWine\"}, 'infographic_text': {'headline': \"SOLAR'S DUAL SHIELD: Protecting Vineyards from Climate Change\", 'claim_vs_reality': [{'false_claim': 'Solar energy only helps combat climate change globally, not locally for specific crops.', 'scientific_reality': 'Solar energy *mitigates* climate change globally by reducing greenhouse gas emissions, slowing the overall warming trend. It also *adapts* locally through agrivoltaics.'}, {'false_claim': \"Solar panels over crops are purely for energy and don't benefit agriculture.\", 'scientific_reality': 'Agrivoltaic systems provide direct physical protection to crops like grapes from increased heat, sunscald, and extreme weather (e.g., hail), while simultaneously generating clean energy.'}], 'key_numbers': ['Solar power is a critical component for achieving significant global CO2 emission reductions.', 'Extreme heatwaves and severe hailstorms, exacerbated by climate change, pose increasing threats to vineyards.', 'Agrivoltaic setups can reduce grape sunscald and moderate vineyard microclimates, protecting yields.'], 'visual_elements': ['‚òÄÔ∏è', 'üåø', 'üçá', 'üõ°Ô∏è', 'üìà', 'üåç']}, 'detailed_explanation': {'why_its_wrong': None, 'the_science_behind_the_truth': {'paragraph_1': \"The statement is true because solar energy offers a powerful dual defense against the impacts of climate change on German vineyards. Firstly, at a global scale, solar energy plays a crucial role in climate change mitigation. By generating electricity from sunlight, solar panels reduce our reliance on fossil fuels, which are the primary source of greenhouse gas emissions like CO2. These emissions trap heat in the atmosphere, leading to global warming and the cascading effects of climate change. By deploying solar energy, we actively reduce the amount of heat-trapping gases entering the atmosphere, thereby slowing down the overall warming trend and lessening the severity of future climate impacts on agriculture worldwide, including Germany's viticulture.\", 'paragraph_2': \"Secondly, and perhaps more directly visible for the vineyards themselves, solar energy can be integrated through 'agrivoltaics' ‚Äì the co-location of solar panels and agriculture. Climate change is increasing the frequency and intensity of extreme weather events that directly threaten grapevines, such as prolonged heatwaves, intense UV radiation leading to sunscald, and violent hailstorms. Agrivoltaic systems, with solar panels strategically placed above the vines, provide a physical canopy. This canopy directly shields the delicate grapes and foliage from excessive heat and direct sunlight, moderates soil temperature, reduces water evaporation, and offers crucial protection against damaging hail. This innovative approach allows vineyards to adapt to changing local conditions, safeguarding crop yield and quality, while simultaneously contributing to clean energy production.\"}, 'scientific_consensus': \"There is overwhelming scientific consensus (over 97% of actively publishing climate scientists) that human activities, primarily the burning of fossil fuels, are the dominant cause of observed global warming. Institutions like NASA, the IPCC, and NOAA consistently affirm the critical role of renewable energy sources such as solar in mitigating these effects. Furthermore, extensive research and pilot projects, particularly from institutions like Germany's Fraunhofer Institute for Solar Energy Systems (ISE), increasingly demonstrate the effectiveness of agrivoltaics as a climate adaptation strategy in agriculture, proving its benefits for crop protection and yield stability.\", 'real_world_examples': ['The Fraunhofer Institute for Solar Energy Systems (ISE) in Germany has pioneered agrivoltaic research, with successful pilot projects demonstrating the symbiotic relationship between solar panels and various crops, including vineyards, leading to reduced stress on plants and efficient land use.', 'Wineries in regions highly vulnerable to climate shifts, such as Baden-W√ºrttemberg in Germany and parts of the Mediterranean, are actively exploring and implementing agrivoltaic systems to protect high-value crops from extreme weather events and ensure long-term viability.'], 'common_misconceptions': [\"Misconception 1: Solar energy's benefits are only global, offering no direct, localized protection to agricultural systems. (Reality: Agrivoltaics provide direct, on-site protection from specific climate impacts like heat, sunscald, and hail.)\", 'Misconception 2: Integrating solar panels with high-value crops like grapes will inevitably reduce yield or quality. (Reality: While careful design is crucial, agrivoltaics can moderate microclimates, reduce water stress, and physically protect crops, often leading to stable or even improved yields in challenging conditions, as well as providing energy revenue.)']}, 'credibility_markers': ['Peer-reviewed research in journals like *Nature Energy* and *Applied Energy* confirms the efficacy and benefits of agrivoltaic systems.', 'Reports from the Intergovernmental Panel on Climate Change (IPCC) consistently highlight the urgency of renewable energy deployment for climate change mitigation and the increasing frequency of extreme weather events.', 'Data from national meteorological services (e.g., DWD in Germany) and NOAA confirm trends in increasing temperatures and extreme weather events impacting agricultural regions.', 'Research and pilot project results from institutions like the Fraunhofer Institute for Solar Energy Systems (ISE) provide direct evidence of successful agrivoltaic implementation in viticulture.'], 'engagement_hooks': ['Did you know the same panels generating clean power can also protect your favorite German wine from extreme weather?', \"Imagine: your favorite Riesling, protected from damaging hail and scorching heat by innovative solar technology. Science fiction? Nope, it's happening!\", 'How often do you hear about climate solutions that offer *two* layers of protection at once ‚Äì for the planet AND for our food?'], 'hashtags': ['#FactCheck', '#ClimateScience', '#ScienceMatters', '#SolarPower', '#Agrivoltaics', '#GermanWine', '#SustainableAgriculture', '#ClimateAction', '#RenewableEnergy', '#ClimateResilience'], 'call_to_action': 'Share this truth to highlight the innovative ways solar energy is building a more resilient future for agriculture and our planet!', 'sources_cited': [{'source': 'NASA Global Climate Change', 'link': 'https://climate.nasa.gov/causes/', 'why_credible': 'Leading space agency providing comprehensive data and scientific consensus on climate change causes and impacts.'}, {'source': 'Intergovernmental Panel on Climate Change (IPCC) Assessment Reports', 'link': 'https://www.ipcc.ch/reports/', 'why_credible': 'The UN body for assessing science related to climate change, synthesizing global research and providing consensus on mitigation and adaptation strategies.'}, {'source': 'NOAA Climate.gov', 'link': 'https://www.climate.gov/news-features/understanding-climate/climate-change-global-temperature', 'why_credible': 'Authoritative source for climate data, trends, and information from the U.S. National Oceanic and Atmospheric Administration, including on extreme weather.'}, {'source': 'Fraunhofer Institute for Solar Energy Systems (ISE) Agrophotovoltaics', 'link': 'https://www.ise.fraunhofer.de/en/research-topics/agrophotovoltaics.html', 'why_credible': 'A leading European research institute specializing in solar energy, with pioneering work and pilot projects in agrivoltaics, particularly in Germany.'}], 'original_misinformation': 'Solar energy provides protection to German vineyards from climate change.', 'status': 'success'}\n",
      "\n",
      "2. CLAIM: Southeast Asia floods and landslides kill more than 1,000 as climate change turbocharges monsoon season - CBS News\n",
      "   üìå Detection: {'is_climate_related': True, 'claim_type': 'factual', 'main_claim': 'Climate change is intensifying monsoon seasons, contributing to events like floods and landslides in Southeast Asia.', 'confidence': 0.9, 'keywords': ['Southeast Asia', 'floods', 'landslides', 'monsoon', 'climate change', 'extreme weather', 'intensification'], 'needs_verification': False, 'reasoning': \"The headline claims that climate change 'turbocharges' monsoon season, leading to floods and landslides. While 'turbocharges' is journalistic language, the underlying scientific claim that climate change intensifies monsoon seasons, particularly in parts of Asia, is well-supported by climate science. The IPCC AR6 report, for instance, states that human influence has intensified the monsoon in parts of Asia, leading to more extreme precipitation events. Therefore, the core scientific claim of climate change exacerbating monsoon intensity is considered factual.\", 'original_text': 'Southeast Asia floods and landslides kill more than 1,000 as climate change turbocharges monsoon season - CBS News', 'status': 'success'}\n",
      "   üîç Verification: {'verdict': 'TRUE', 'scientific_consensus': 97, 'supporting_evidence': ['Climate change is increasing the frequency and intensity of extreme weather events.', 'Global average temperature has increased by approximately 1.1¬∞C since pre-industrial times (1850-1900).', 'Human activities (fossil fuels, deforestation) are the primary cause of recent warming.'], 'contradicting_evidence': [], 'authoritative_sources': ['IPCC', 'NASA', 'NOAA'], 'explanation': 'Climate change intensifies the global water cycle, leading to more moisture in the atmosphere and subsequently increasing the frequency and intensity of extreme precipitation events. This directly contributes to more intense monsoon seasons, elevating the risk of severe floods and landslides in vulnerable regions like Southeast Asia.', 'confidence': 1.0, 'original_claim': 'Climate change is intensifying monsoon seasons, contributing to events like floods and landslides in Southeast Asia.', 'claim_type': 'factual', 'status': 'success'}\n",
      "   üìù Synthesis: {'headline': 'Fact Check: Climate Change Intensifies Monsoons, Increasing Flood and Landslide Risks in Southeast Asia', 'summary': 'It is true that climate change is intensifying monsoon seasons, leading to more frequent and severe events like floods and landslides in Southeast Asia. Scientific consensus confirms that human-induced global warming is altering weather patterns, making extreme rainfall events more likely and intense.', 'key_evidence': ['Climate change is increasing the frequency and intensity of extreme weather events.', 'Global average temperature has increased by approximately 1.1¬∞C since pre-industrial times (1850-1900).', 'Human activities (fossil fuels, deforestation) are the primary cause of recent warming.'], 'what_science_says': \"The scientific community overwhelmingly agrees that a warmer atmosphere holds more moisture, leading to more intense rainfall during monsoon seasons. As the planet's average temperature rises due to human activities, the hydrological cycle is accelerated. This directly contributes to heavier downpours and an increased risk of severe flooding and landslides in regions like Southeast Asia, where monsoon systems are a critical climatic feature. This trend is a clear manifestation of the broader impact of climate change on extreme weather events globally.\", 'citations': [{'source': 'IPCC', 'fact': 'Climate change is increasing the frequency and intensity of extreme weather events.', 'url': 'https://www.ipcc.ch/report/ar6/wg1/'}, {'source': 'NASA', 'fact': 'Global average temperature has increased by approximately 1.1¬∞C since pre-industrial times (1850-1900).', 'url': 'https://climate.nasa.gov/evidence/global-warming-vs-climate-change/'}, {'source': 'NOAA', 'fact': 'Human activities (fossil fuels, deforestation) are the primary cause of recent warming.', 'url': 'https://www.noaa.gov/climate/climate-change-impacts'}], 'bottom_line': 'The scientific consensus confirms that human-caused climate change is intensifying monsoon seasons, significantly exacerbating the risks of devastating floods and landslides in Southeast Asia and highlighting the urgent need for climate action.', 'original_claim': 'Climate change is intensifying monsoon seasons, contributing to events like floods and landslides in Southeast Asia.', 'verdict': 'TRUE', 'status': 'success'}\n",
      "   ‚≠ê Credibility: {'claim': 'Climate change is intensifying monsoon seasons, contributing to events like floods and landslides in Southeast Asia.', 'verdict': 'TRUE', 'credibility_score': 83.1, 'rating': 'Highly Credible', 'breakdown': {'peer_review': 60, 'source_quality': 100.0, 'scientific_consensus': 97}, 'citations_count': 3, 'trusted_sources': 3, 'status': 'success'}\n",
      "   üì± Counter-Narrative: {'verdict': 'TRUE', 'short_summary': 'Climate change is indeed intensifying monsoon seasons, leading to more severe floods and landslides, especially in vulnerable regions like Southeast Asia.', 'social_media': {'twitter_280': 'Climate change IS intensifying monsoon seasons, leading to more extreme floods & landslides. üåä Science confirms a warmer atmosphere holds more moisture, fueling these events. #ClimateFactCheck #Monsoon #SoutheastAsia', 'twitter_extended': \"The claim that climate change is intensifying monsoon seasons and contributing to floods and landslides in Southeast Asia is TRUE. üíß A warmer planet means a warmer atmosphere, which can hold more moisture. This supercharges the global water cycle, leading to heavier rainfall during monsoon seasons. Expert bodies like the IPCC, NASA, and NOAA consistently confirm this link. This isn't just 'bad weather'; it's a measurable impact of human-caused climate change. #ClimateScience #FactCheck #MonsoonImpact\", 'facebook_long': \"Is climate change really making monsoon seasons worse? The answer is a resounding YES. \\n\\nWe often hear about extreme weather, but connecting the dots to climate change is crucial. Scientific evidence overwhelmingly shows that climate change intensifies monsoon seasons, directly contributing to more severe floods and devastating landslides, particularly in regions like Southeast Asia. \\n\\nHere's the science: As our planet warms due to human activities (like burning fossil fuels), the atmosphere gets warmer too. A fundamental principle of physics (the Clausius-Clapeyron relation) dictates that warmer air can hold significantly more water vapor ‚Äì about 7% more for every 1¬∞C increase. This extra moisture acts like fuel for storms. When monsoon systems develop, they draw in this supercharged, moisture-laden air, unleashing unprecedented amounts of rain in shorter periods. \\n\\nThe consequences are dire: overwhelmed drainage systems, widespread flooding, loss of life, destroyed infrastructure, and increased risk of landslides in mountainous or deforested areas. This isn't a future threat; it's happening now, impacting millions. \\n\\nOrganizations like the Intergovernmental Panel on Climate Change (IPCC), NASA, and NOAA have extensively documented this phenomenon, presenting robust data and models. Ignoring this reality puts communities at even greater risk. \\n\\nUnderstanding this critical link empowers us to demand and implement effective climate adaptation and mitigation strategies. Share this post to help others understand the urgent reality of climate change impacts. #ClimateCrisis #MonsoonSeason #FloodAwareness #ScienceCommunication #ActOnClimate\", 'instagram_caption': \"Fact Check: Climate change is making monsoon seasons more intense, leading to worse floods and landslides in places like Southeast Asia. üåäüìà A warmer world means a wetter atmosphere, fueling extreme rainfall. This isn't just weather; it's climate change in action. #ClimateScience #MonsoonImpact #GlobalWarming #FactCheck #ScienceExplained \\n\\nTap the save button to remember this fact and share to spread awareness! ‚ú®\", 'linkedin_professional': 'Understanding the precise impacts of climate change is vital for policy, planning, and disaster preparedness. It is scientifically accurate that climate change is intensifying monsoon seasons, contributing to increased frequency and severity of floods and landslides, particularly in vulnerable regions such as Southeast Asia. \\n\\nThe underlying mechanism is the accelerated global water cycle. A global average temperature increase of approximately 1.1¬∞C since pre-industrial times (1850-1900), driven primarily by human activities, means the atmosphere can hold a greater volume of water vapor. This enhanced moisture capacity fuels more intense precipitation events during monsoonal periods. \\n\\nAuthoritative bodies like the IPCC, NASA, and NOAA provide extensive peer-reviewed evidence supporting this causality. For professionals involved in risk management, urban planning, agriculture, and public health, recognizing this intensified hydrological reality is paramount for developing resilient strategies. #ClimateAction #Sustainability #RiskManagement #ScienceLiteracy #IPCC #DataDriven', 'tiktok_script': \"[Video opens with a shot of heavy rain or flood footage, then cuts to presenter]\\n\\n**Hook:** Ever wonder why monsoon rains feel like they're getting WORSE? \\n\\n**Main Point:** It's not just your imagination! Climate change is supercharging monsoon seasons. A warmer planet means the atmosphere holds MORE moisture, leading to heavier rainfall, bigger floods, and more landslides, especially in places like Southeast Asia. \\n\\n**Visual:** Quick graphic showing 'Warmer Air = More Water Vapor'.\\n\\n**Call to Action:** This is a #ClimateFact, not a myth. Stay informed, stay safe! #Monsoon #ClimateChange #FactCheck #Science #Weather\"}, 'infographic_text': {'headline': 'Climate Change & Monsoons: The Intensifying Link is REAL.', 'claim_vs_reality': [{'false_claim': 'Monsoon floods are just natural weather cycles, unrelated to climate change.', 'scientific_reality': 'Climate change directly intensifies monsoon seasons by supercharging the water cycle, making floods and landslides more extreme.'}, {'false_claim': \"Increased rainfall is just 'normal' variation, not a trend.\", 'scientific_reality': 'Global average temperature has risen by 1.1¬∞C since pre-industrial times, significantly altering atmospheric moisture capacity and precipitation patterns.'}], 'key_numbers': ['Global average temperature increased by ~1.1¬∞C since pre-industrial times.', 'A warmer atmosphere holds ~7% more moisture for every 1¬∞C rise.', 'Human activities (fossil fuels, deforestation) are the primary cause of recent warming.'], 'visual_elements': ['Rain cloud with heavy downpour emoji üåßÔ∏è', 'Flood wave emoji üåä', 'Landslide icon ‚õ∞Ô∏è‚û°Ô∏èüìâ', 'Thermometer rising üå°Ô∏è‚¨ÜÔ∏è', 'Chart showing upward trend üìà']}, 'detailed_explanation': {'why_its_wrong': \"The initial statement 'Climate change is intensifying monsoon seasons, contributing to events like floods and landslides in Southeast Asia' is scientifically ACCURATE, not misinformation. The 'why it's wrong' section is therefore re-framed to explain 'Why it's true' and the scientific basis behind this critical impact. It counters implicit denials or downplaying of this fact. The scientific consensus, backed by extensive research, confirms a direct causal link between anthropogenic climate change and the intensification of monsoon systems. A warmer global climate directly increases the atmosphere's capacity to hold water vapor, leading to more significant moisture availability for storm systems. This 'supercharging' of the water cycle results in more frequent and intense extreme precipitation events during monsoon seasons, exacerbating risks of severe flooding and landslides in vulnerable regions.\", 'scientific_consensus': 'There is overwhelming scientific consensus, supported by over 97% of actively publishing climate scientists, that human-caused climate change is intensifying the global water cycle and, consequently, increasing the frequency and intensity of extreme precipitation events, including monsoon rainfall. Reports from the IPCC consistently highlight this trend, with high confidence levels attributed to projections of increased heavy rainfall in many regions.', 'real_world_examples': ['**2022 Pakistan Floods:** While not Southeast Asia, this is a stark global example. Unprecedented monsoon rains, intensified by climate change, led to devastating floods affecting 33 million people, causing billions in damages, and submerging a third of the country. Scientific studies directly linked the extreme rainfall to climate change.', '**Southeast Asian Floods (e.g., Vietnam, Philippines):** Over recent decades, countries like Vietnam, the Philippines, and Thailand have experienced increasingly severe monsoon-related floods and landslides. For example, the 2020 Central Vietnam floods, exacerbated by a series of typhoons and heavy monsoon rains, caused widespread destruction and hundreds of deaths, with climate change identified as a significant exacerbating factor by regional climate assessments.'], 'common_misconceptions': [\"**'Monsoons are natural, so it's just normal weather variation.'** While monsoons are natural seasonal phenomena, climate change alters their intensity and impact. The *amount* of rainfall, its *duration*, and the *frequency* of extreme downpours are no longer 'normal' due to human-induced warming.\", \"**'We've always had floods; this isn't new.'** While floods have always occurred, the *intensity*, *scale*, and *recurrence* of recent extreme flood events, especially in historically vulnerable areas, are unprecedented and directly attributable to the enhanced moisture capacity of a warming atmosphere. Baseline conditions have shifted.\"]}, 'credibility_markers': ['Peer-reviewed research published in leading scientific journals consistently demonstrates the intensification of extreme precipitation events globally and regionally.', 'Official data from NASA and NOAA, derived from satellite observations and ground measurements, show clear trends in increased atmospheric water vapor and extreme rainfall events.', 'The Intergovernmental Panel on Climate Change (IPCC), representing the consensus of thousands of scientists worldwide, provides comprehensive assessments confirming the link between climate change and intensified monsoons.'], 'engagement_hooks': [\"Have you noticed more intense downpours during monsoon season lately? There's a scientific reason why!\", 'Did you know that for every 1¬∞C increase in global temperature, the atmosphere can hold about 7% more water vapor? Imagine what that does to rainfall!', \"For millions in Southeast Asia, intensified monsoons aren't a distant threat, but a present danger. How can we better protect these communities?\"], 'hashtags': ['#FactCheck', '#ClimateScience', '#ScienceMatters', '#Monsoon', '#FloodSafety', '#SoutheastAsia', '#ClimateCrisis', '#WeatherExtremes'], 'call_to_action': 'Understand the facts, share this information, and support initiatives that build climate resilience and reduce emissions. Your voice matters in advocating for a safer future.', 'sources_cited': [{'source': 'Intergovernmental Panel on Climate Change (IPCC) Assessment Reports (AR6)', 'link': 'https://www.ipcc.ch/reports/', 'why_credible': 'The IPCC is the leading international body for assessing climate change, providing comprehensive scientific assessments acknowledged as the standard for policymakers worldwide.'}, {'source': 'NASA Earth Observatory', 'link': 'https://earthobservatory.nasa.gov/features/Water', 'why_credible': \"NASA conducts extensive research on Earth's climate system, providing satellite data and scientific insights into global water cycle dynamics and extreme weather.\"}, {'source': 'National Oceanic and Atmospheric Administration (NOAA)', 'link': 'https://www.noaa.gov/climate', 'why_credible': 'NOAA is a U.S. federal agency focused on ocean and atmospheric science, providing critical data, research, and forecasts related to climate and weather extremes.'}], 'original_misinformation': 'Climate change is intensifying monsoon seasons, contributing to events like floods and landslides in Southeast Asia.', 'status': 'success'}\n",
      "\n",
      "3. CLAIM: Once-in-a-century floods set to become annual events in northeastern US in the next 75 years, study finds - Live Science\n",
      "   üìå Detection: {'is_climate_related': True, 'claim_type': 'factual', 'main_claim': 'Floods that historically occurred once every 100 years are projected to become annual events in the northeastern US within the next 75 years.', 'confidence': 0.8, 'keywords': ['floods', 'extreme weather', 'northeastern US', 'climate change impacts', 'frequency projections', 'return period'], 'needs_verification': True, 'reasoning': \"The statement reports a finding from a scientific study via a reputable science news outlet (Live Science). While increased frequency of extreme precipitation and flood events in the northeastern US is a well-established climate change impact, the specific magnitude of 'once-in-a-century floods becoming annual events' is a very strong and precise projection. Such specific claims, while potentially accurate under certain climate models and scenarios, warrant verification against the original study to understand its methodology, underlying assumptions, and the range of uncertainty in the projection. It is not climate denial, but a highly specific projection whose exact quantification should be confirmed.\", 'original_text': 'Once-in-a-century floods set to become annual events in northeastern US in the next 75 years, study finds - Live Science', 'status': 'success'}\n",
      "   üîç Verification: {'verdict': 'TRUE', 'scientific_consensus': 95, 'supporting_evidence': ['Climate change is increasing the frequency and intensity of extreme weather events (IPCC AR6 WG1).', 'Globally, for coastal areas, the frequency of a 1-in-100-year extreme sea level event is projected to increase by 10 to 100 times by 2100, depending on the emissions scenario (IPCC AR6 WG1 Summary for Policymakers, SPM.A.3.4).', 'Projections for the U.S. Northeast indicate that what is currently considered a 100-year coastal flood event is expected to occur multiple times per year in many locations by the end of the century (U.S. National Climate Assessment, e.g., NCA4 & NCA5).'], 'contradicting_evidence': [], 'authoritative_sources': ['IPCC', 'NOAA', 'NASA'], 'explanation': 'Climate change, driven by human activities, is increasing the frequency and intensity of extreme weather events, including coastal and heavy precipitation floods. Projections for the northeastern US, particularly for coastal areas, indicate that what are currently considered 100-year flood events are expected to occur multiple times per year in many locations by the end of the century (within the next 75 years) due to sea level rise and increased extreme precipitation.', 'confidence': 0.95, 'original_claim': 'Floods that historically occurred once every 100 years are projected to become annual events in the northeastern US within the next 75 years.', 'claim_type': 'factual', 'status': 'success'}\n",
      "   üìù Synthesis: {'headline': 'TRUE: 100-Year Floods in Northeast Projected to Become Annual Due to Climate Change', 'summary': 'The claim that floods historically occurring once every 100 years are projected to become annual events in the northeastern US within 75 years is TRUE. Leading climate science indicates that climate change is increasing the frequency and intensity of extreme weather, including coastal flooding. Projections show that what is currently considered a 100-year coastal flood event will occur multiple times per year in many Northeast locations by the end of the century.', 'key_evidence': ['Climate change is increasing the frequency and intensity of extreme weather events globally.', 'Globally, the frequency of a 1-in-100-year extreme sea level event is projected to increase 10 to 100 times by 2100, depending on the emissions scenario.', 'Specifically for the U.S. Northeast, what is currently a 100-year coastal flood event is expected to occur multiple times per year in many locations by the end of the century.'], 'what_science_says': \"Scientific consensus confirms that human-caused climate change is intensifying weather patterns, leading to more frequent and severe extreme events, especially coastal flooding. Rising sea levels, fueled by thermal expansion and melting ice, combined with more intense storms, mean that historically rare flood levels are reached more often. Reports from the Intergovernmental Panel on Climate Change (IPCC) and the U.S. National Climate Assessment (NCA) consistently project that the Northeast U.S. will experience what were once '100-year' coastal floods on an annual or even more frequent basis by the end of the century, well within the next 75 years.\", 'citations': [{'source': 'IPCC', 'fact': 'Climate change is increasing the frequency and intensity of extreme weather events, and globally, a 1-in-100-year extreme sea level event is projected to increase 10 to 100 times by 2100.', 'url': 'https://www.ipcc.ch/report/ar6/wg1/'}, {'source': 'NOAA', 'fact': 'Projections for the U.S. Northeast indicate that what is currently considered a 100-year coastal flood event is expected to occur multiple times per year in many locations by the end of the century.', 'url': 'https://nca2023.globalchange.gov/chapter/21/'}, {'source': 'NASA', 'fact': 'Global temperatures and sea levels are rising due to human activities, increasing the likelihood and severity of extreme weather events, including coastal flooding.', 'url': 'https://climate.nasa.gov/effects/'}], 'bottom_line': 'The scientific consensus is unambiguous: climate change is significantly escalating flood risks in the Northeast. Communities and infrastructure in the region must prepare for historically rare coastal floods to become a regular, annual occurrence within decades.', 'original_claim': 'Floods that historically occurred once every 100 years are projected to become annual events in the northeastern US within the next 75 years.', 'verdict': 'TRUE', 'status': 'success'}\n",
      "   ‚≠ê Credibility: {'claim': 'Floods that historically occurred once every 100 years are projected to become annual events in the northeastern US within the next 75 years.', 'verdict': 'TRUE', 'credibility_score': 82.5, 'rating': 'Highly Credible', 'breakdown': {'peer_review': 60, 'source_quality': 100.0, 'scientific_consensus': 95}, 'citations_count': 3, 'trusted_sources': 3, 'status': 'success'}\n",
      "   üì± Counter-Narrative: {'verdict': 'TRUE', 'short_summary': \"Projections confirm that what were once considered '100-year floods' are indeed expected to become annual events in the northeastern US within the next 75 years due to climate change.\", 'social_media': {'twitter_280': \"FACT CHECK: The projection that '100-year floods' will become annual in the Northeast US within 75 years is TRUE. üåä Rising sea levels & extreme rain are accelerating flood frequency. #ClimateFact #ScienceMatters #FactCheck\", 'twitter_extended': \"Yes, it's true: What we call '100-year floods' are projected to occur annually in many parts of the Northeastern US by the end of the century. This isn't speculation; it's a scientific consensus from sources like @NOAA & @IPCC_CH, driven by human-caused sea level rise and increased extreme precipitation. We need to prepare. #ClimateChange #FloodRisk #NortheastWeather #FactCheck\", 'facebook_long': \"üåä Fact Check: The alarming truth about '100-year floods' üåä\\n\\nMany of us hear about '100-year floods' and imagine a once-in-a-lifetime event. But here‚Äôs a critical projection: What were historically considered 100-year flood events are projected to become ANNUAL occurrences in many areas of the northeastern US within the next 75 years.\\n\\nThis isn't a doomsday prediction, but a scientific reality backed by extensive research. Climate change, primarily driven by human activities, is fundamentally altering our weather patterns. We're seeing two major factors at play:\\n\\n1.  **Sea Level Rise:** As global temperatures increase, glaciers and ice sheets melt, and ocean waters expand, leading to higher sea levels. For coastal communities, this means even minor storms can now cause significant flooding.\\n2.  **Increased Extreme Precipitation:** A warmer atmosphere holds more moisture, leading to heavier and more frequent downpours. When these intense rainfalls combine with higher sea levels, the risk of devastating floods skyrockets.\\n\\nLeading scientific bodies like the IPCC, NOAA, and NASA confirm these projections. The IPCC's AR6 report highlights that globally, coastal areas could see a 1-in-100-year extreme sea level event increase by 10 to 100 times by 2100. The U.S. National Climate Assessment echoes this specifically for the Northeast, projecting multiple annual occurrences of current 100-year coastal floods.\\n\\nThis isn't just about statistics; it's about real homes, infrastructure, and livelihoods. Understanding this truth is the first step towards building resilient communities and mitigating future risks. Share this information to help others grasp the urgency! #ClimateChangeIsReal #FloodPreparedness #NortheastClimate #ScienceCommunication\", 'instagram_caption': \"üö® FACT CHECK: It's true. Those '100-year floods' are projected to become ANNUAL events in the Northeast US within 75 years! üåä This isn't just a number; it's a stark reality from climate science. Sea level rise + extreme rain = more frequent, intense floods. Learn why and share to spread awareness! #ClimateFact #FloodRisk #Northeast #ScienceMatters #SaveThisPost\", 'linkedin_professional': \"Understanding the Escalating Flood Risk in the Northeastern US: A Scientific Reality\\n\\nThe projection that '100-year floods' will become annual events in the northeastern United States within the next 75 years is not hyperbole; it is a critical finding supported by robust climate science.\\n\\nAuthoritative bodies such as the Intergovernmental Panel on Climate Change (IPCC), NOAA, and NASA consistently demonstrate how human-induced climate change is accelerating the frequency and intensity of extreme weather phenomena. Specifically for coastal regions, sea level rise combined with increased extreme precipitation events is creating a new normal.\\n\\nKey reports like the IPCC's Sixth Assessment Report (AR6 WG1) project a 10 to 100-fold increase in the frequency of 1-in-100-year extreme sea level events globally by 2100, depending on emissions scenarios. The U.S. National Climate Assessment (NCA4 & NCA5) further specifies that for the Northeast, what is currently considered a 100-year coastal flood is expected to occur multiple times per year by the end of the century. This has profound implications for urban planning, infrastructure resilience, and disaster preparedness in affected communities.\\n\\nRecognizing this trajectory is crucial for informed policy-making, investment in adaptive measures, and fostering community resilience. Let's engage with the science to build a more secure future. #ClimateScience #FloodResilience #Northeast #ClimateAdaptation #ScienceCommunication #RiskManagement\", 'tiktok_script': \"[Video opens with a shot of heavy rain or flooded street graphic]\\nHost: '100-year floods' becoming annual? Is that even possible?\\n[Text overlay: FACT CHECK: TRUE]\\nHost: YES! In the Northeast US, what used to be a '100-year flood' event is projected to happen EVERY YEAR within 75 years. üö®\\n[Quick graphic showing sea level rising + more rain clouds]\\nHost: Climate change is making our oceans rise AND bringing heavier downpours. This deadly combo means more frequent and severe floods.\\n[Text overlay: Source: IPCC, NOAA]\\nHost: This isn't just a number, it's our future. We need to get ready! Share this to spread awareness! #ClimateChange #Flooding #Northeast #ScienceFacts #GetReady\"}, 'infographic_text': {'headline': \"The New Normal: '100-Year Floods' Becoming Annual\", 'claim_vs_reality': [{'what_was': \"A '100-year flood' was once a rare, devastating event, statistically occurring once a century.\", 'what_will_be': 'Due to climate change, these extreme floods are projected to become an ANNUAL reality in many parts of the Northeastern US by 2100.'}, {'what_was': 'Coastal communities prepared for occasional major flood events.', 'what_will_be': 'They must now prepare for frequent, severe flooding impacting infrastructure and daily life multiple times per year.'}], 'key_numbers': ['What was 1-in-100-year: Projected to become ANNUAL in parts of the Northeast US.', 'Globally: 100-year extreme sea level events could occur 10-100 times more frequently by 2100.', 'Timeline: Within the next 75 years (by end of century).'], 'visual_elements': ['üåä Rising water graphic', 'üåßÔ∏è Heavy rain clouds', 'üìà Upward arrow trend', '‚ö†Ô∏è Warning sign']}, 'detailed_explanation': {'why_its_wrong': \"The initial statement itself is not 'wrong' ‚Äì it is a scientifically accurate projection. Rather than debunking, this section explains the robust scientific basis for this critical projection and why it represents a severe, impending reality. The projection accurately reflects the accelerating impacts of human-caused climate change on coastal and riverine flood risks, particularly in regions like the Northeastern US. This isn't an exaggeration; it's a synthesis of current climate models and observational data demonstrating a rapid shift in flood frequency and intensity. Ignoring or downplaying this projection would be a significant misunderstanding of current climate science and its profound implications for regional resilience and planning.\", 'scientific_consensus': \"There is overwhelming scientific consensus, as evidenced by reports from the IPCC, NOAA, and NASA, that human activities are unequivocally driving climate change. This consensus extends to the projected increase in frequency and intensity of extreme weather events, including the specific projection of '100-year floods' becoming annual events in vulnerable coastal regions like the Northeastern US. The IPCC's Sixth Assessment Report (AR6) represents a consensus among thousands of scientists globally, confirming these trends and future probabilities.\", 'real_world_examples': [\"**Increased 'Sunny Day' Flooding:** Coastal cities like Boston, MA, and Portland, ME, are already experiencing more frequent 'nuisance' or 'sunny day' flooding during high tides, even without storms. This demonstrates how sea level rise is eroding the margin for safety, making extreme floods more likely.\", \"**Hurricane Sandy (2012) and Beyond:** While a '100-year flood' implies a specific statistical probability, events like Hurricane Sandy provided a glimpse into the devastating potential of extreme coastal inundation in the Northeast. Future storms, combined with significantly higher baseline sea levels, will lead to more widespread and damaging flooding, consistent with annual occurrences of currently defined '100-year' events.\", '**Inland River Flooding:** Beyond coastal impacts, the increase in extreme precipitation events also contributes to more frequent and severe riverine flooding throughout the Northeast, exemplified by recent events in Vermont and New York, further compounding regional flood risk.'], 'common_misconceptions': [\"**Misunderstanding '100-year flood':** This term refers to a flood event that has a 1% chance of occurring in any given year, not that it only happens once every 100 years. Climate change is now rapidly altering this probability, making a '1% chance' event much more frequent.\", '**Impacts are far in the future/distant:** Many believe significant climate impacts are decades away or will only affect other regions. This projection clearly shows severe impacts are expected within the lifespan of current generations and specifically in the Northeastern US.', '**Only sea level rise causes flooding:** While a major factor, the projection for increased flood frequency is a combination of both sea level rise AND the increased intensity and frequency of extreme precipitation events, which often occur simultaneously during coastal storms.']}, 'credibility_markers': ['Peer-reviewed research published in leading scientific journals substantiates these projections.', 'Official data and comprehensive reports from the Intergovernmental Panel on Climate Change (IPCC) consistently demonstrate these trends and future probabilities.', 'Detailed analyses and climate models from governmental scientific agencies like NOAA and NASA confirm the accelerating rates of sea level rise and extreme precipitation.', 'Consensus among climate scientists globally, as reflected in the U.S. National Climate Assessment (NCA), validates these specific regional projections.'], 'engagement_hooks': [\"Imagine your local streets flooding every year with the severity of a 'once-in-a-century' event. Are we ready for that?\", \"Did you know a '100-year flood' isn't literally once every 100 years, but has a 1% chance *any* year? Climate change is making that chance skyrocket.\", \"Think about the homes, businesses, and infrastructure in coastal Northeast communities. What does 'annual 100-year floods' mean for their future?\"], 'hashtags': ['#FactCheck', '#ClimateScience', '#ScienceMatters', '#FloodRisk', '#NortheastClimate', '#SeaLevelRise', '#ExtremeWeather', '#ClimateAction'], 'call_to_action': 'Understand the science, discuss these projections with your community leaders, and support policies that promote climate adaptation and mitigation. Share this information to ensure more people are aware and prepared.', 'sources_cited': [{'source': 'IPCC Sixth Assessment Report (AR6) Working Group I: The Physical Science Basis', 'link': 'https://www.ipcc.ch/report/ar6/wg1/', 'why_credible': 'The most comprehensive and authoritative assessment of climate change science, compiled by thousands of leading scientists worldwide.'}, {'source': 'NOAA National Ocean Service: Sea Level Rise', 'link': 'https://oceanservice.noaa.gov/facts/sealevel.html', 'why_credible': 'NOAA is a primary US federal agency for ocean and atmospheric science, providing extensive data and projections on sea level rise.'}, {'source': 'NASA Global Climate Change: Sea Level', 'link': 'https://climate.nasa.gov/vital-signs/sea-level/', 'why_credible': 'NASA provides robust satellite data and scientific analysis on global climate indicators, including sea level trends.'}, {'source': 'U.S. National Climate Assessment (NCA) - Volume II, Fourth Assessment (NCA4) and Fifth Assessment (NCA5) - Northeast Chapter', 'link': 'https://nca2018.globalchange.gov/chapter/18/', 'why_credible': 'A comprehensive, peer-reviewed assessment of climate change impacts in the United States, synthesizing research across federal agencies and academic institutions, with specific regional analyses.'}], 'original_misinformation': 'Floods that historically occurred once every 100 years are projected to become annual events in the northeastern US within the next 75 years.', 'status': 'success'}\n",
      "\n",
      "4. CLAIM: Not every flooding event can be prevented, says PUB chief, as climate change impacts rainfall - Yahoo News Singapore\n",
      "   üìå Detection: {'is_climate_related': True, 'claim_type': 'factual', 'main_claim': 'Climate change impacts rainfall patterns, making it challenging to prevent all flooding events.', 'confidence': 0.95, 'keywords': ['flooding', 'rainfall', 'climate change', 'extreme weather', 'adaptation', 'precipitation'], 'needs_verification': False, 'reasoning': 'The statement accurately reflects established climate science. A warmer atmosphere, a direct consequence of climate change, can hold more moisture (Clausius-Clapeyron relation), leading to more intense precipitation events. This increase in rainfall intensity and frequency of extreme downpours makes it significantly harder for existing infrastructure to cope, thus challenging the prevention of all flooding events. This is a widely accepted scientific understanding and a core component of climate change impact assessments and adaptation strategies.', 'original_text': 'Not every flooding event can be prevented, says PUB chief, as climate change impacts rainfall - Yahoo News Singapore', 'status': 'success'}\n",
      "   üîç Verification: {'verdict': 'TRUE', 'scientific_consensus': 97, 'supporting_evidence': ['Climate change is increasing the frequency and intensity of extreme weather events (IPCC AR6 WG1).'], 'contradicting_evidence': [], 'authoritative_sources': ['IPCC'], 'explanation': 'Climate change significantly impacts global rainfall patterns, leading to more frequent and intense extreme precipitation events. These changes challenge existing infrastructure and natural systems, making it increasingly difficult to prevent all flooding events.', 'confidence': 1.0, 'original_claim': 'Climate change impacts rainfall patterns, making it challenging to prevent all flooding events.', 'claim_type': 'factual', 'status': 'success'}\n",
      "   üìù Synthesis: {'headline': 'TRUE: Climate Change Intensifies Rainfall, Making Flood Prevention More Challenging', 'summary': 'The claim is true. Climate change is significantly altering global rainfall patterns, leading to an increase in the frequency and intensity of extreme precipitation events. These shifts make it increasingly difficult for communities and infrastructure to prevent all flooding, even with robust planning.', 'key_evidence': ['Warmer global temperatures enable the atmosphere to hold more moisture, directly leading to more intense and frequent heavy rainfall events.', 'The Intergovernmental Panel on Climate Change (IPCC) confirms a clear human influence on the observed increases in the frequency and intensity of extreme weather events, including heavy precipitation, across most land regions.', 'Altered atmospheric circulation patterns and increased moisture availability mean that rainfall can be delivered in larger, more sudden bursts, overwhelming natural and engineered drainage systems.'], 'what_science_says': \"Scientific consensus, notably from the Intergovernmental Panel on Climate Change (IPCC), affirms that human-induced climate change is disrupting the global water cycle. A warmer atmosphere has a greater capacity to hold water vapor, resulting in an increase in the intensity and frequency of extreme precipitation events in many areas. While some regions experience prolonged droughts, others are hit by 'rain bombs' ‚Äì incredibly heavy downpours over short periods. These altered patterns not only stress but often overwhelm existing drainage systems, river capacities, and urban infrastructure, making the complete prevention of flooding events a substantial and growing challenge. The geographical distribution and timing of rainfall are also shifting, meaning historically 'safe' areas may now face flood risks, while traditional flood management strategies become less effective.\", 'citations': [{'source': 'IPCC', 'fact': \"The IPCC's Sixth Assessment Report (Working Group I) unequivocally states that human influence has warmed the climate at a rate unprecedented in at least the last 2000 years, leading to observed increases in the intensity and frequency of heavy precipitation events over most land regions.\", 'url': 'https://www.ipcc.ch/report/ar6/wg1/'}, {'source': 'NASA', 'fact': 'NASA observations and research indicate that a warming climate accelerates the water cycle, leading to more intense rainfall events, which in turn increases the risk and severity of flooding in many parts of the world.', 'url': 'https://climate.nasa.gov/effects/water/'}], 'bottom_line': 'Climate change is undeniably altering rainfall patterns, making extreme precipitation more common and intense, thereby increasing the risk and inevitability of flooding events despite ongoing mitigation and adaptation efforts.', 'original_claim': 'Climate change impacts rainfall patterns, making it challenging to prevent all flooding events.', 'verdict': 'TRUE', 'status': 'success'}\n",
      "   ‚≠ê Credibility: {'claim': 'Climate change impacts rainfall patterns, making it challenging to prevent all flooding events.', 'verdict': 'TRUE', 'credibility_score': 75.1, 'rating': 'Credible', 'breakdown': {'peer_review': 40, 'source_quality': 100.0, 'scientific_consensus': 97}, 'citations_count': 2, 'trusted_sources': 1, 'status': 'success'}\n",
      "   üì± Counter-Narrative: {'verdict': 'TRUE', 'short_summary': 'Climate change undeniably intensifies rainfall patterns, making floods more frequent and severe, and fully preventing them a growing and urgent challenge.', 'social_media': {'twitter_280': \"YES, it's TRUE! üåßÔ∏è Climate change is intensifying rainfall, making floods harder to prevent. This isn't just weather; it's a critical challenge for our infrastructure & safety, demanding urgent action. #FactCheck #ClimateCrisis\", 'twitter_extended': \"The statement is TRUE: Climate change profoundly alters rainfall patterns, leading to more frequent and intense extreme precipitation events globally. This isn't just a minor shift; it‚Äôs a fundamental challenge to our urban planning, drainage systems, and natural flood defenses. Experts like the IPCC confirm these changes are already making it increasingly difficult to prevent all flooding, demanding urgent adaptation strategies and emission reductions. #ClimateScience #FloodRisk #InfrastructureResilience\", 'facebook_long': \"Have you noticed rainfall feeling more extreme lately? You're not imagining it. The statement that 'Climate change impacts rainfall patterns, making it challenging to prevent all flooding events' is undeniably TRUE, but it's crucial to understand the full, urgent scope of this reality.\\n\\nHere‚Äôs why:\\nOur planet's warming climate means warmer air, and warmer air can hold significantly more moisture ‚Äì about 7% more for every 1¬∞C of warming. This additional moisture fuels more intense downpours and extreme precipitation events. What used to be a '100-year flood' event is now occurring with alarming frequency in many regions, overwhelming infrastructure built for a different climate.\\n\\nThis isn't just about 'a challenge'; it's about a rapidly escalating threat to communities, economies, and lives. Existing drainage systems, urban planning, and natural flood defenses are increasingly insufficient to cope with these new extremes, leading to catastrophic damage, displacement, and economic disruption.\\n\\nSo, what can we do? Acknowledging this truth is the first step. The next is urgent action: investing in resilient infrastructure, implementing natural flood management solutions (like restoring wetlands), improving early warning systems, and most critically, aggressively reducing the greenhouse gas emissions that are driving these dangerous changes. It's about proactive solutions, not passive acceptance.\\n\\nShare this post to help spread awareness about the real impacts of climate change and the need for comprehensive solutions. #ClimateAction #FloodPreparedness #ScienceMatters #ClimateReality\", 'instagram_caption': \"TRUE: Climate change means heavier, more intense rain & increased flood risk. üåßÔ∏èüåä It's profoundly challenging our cities, infrastructure, and communities globally. Understanding this urgent reality is key to building resilience and protecting lives. Learn why and share to raise awareness! #ClimateReality #FloodPreparedness #ExtremeWeather #ClimateChangeIsReal\", 'linkedin_professional': \"The assertion that 'Climate change impacts rainfall patterns, making it challenging to prevent all flooding events' is scientifically accurate and demands immediate attention from professionals across sectors. The IPCC's Sixth Assessment Report confirms that human-induced climate change is leading to more frequent and intense extreme precipitation events globally. This poses significant challenges for urban planners, civil engineers, risk managers, and policymakers.\\n\\nWe must move beyond acknowledging the challenge to implementing robust, science-backed solutions. This includes substantial investment in climate-resilient infrastructure, integrating natural flood management solutions (e.g., permeable surfaces, wetland restoration), enhancing predictive modeling for early warning systems, and developing adaptive urban development strategies. Furthermore, the imperative to reduce global greenhouse gas emissions cannot be overstated, as it addresses the root cause of these intensifying rainfall patterns. Proactive collaboration and evidence-based policy are essential to mitigate the escalating risks and protect economic stability and public safety. #ClimateRisk #Infrastructure #Sustainability #Policy #ClimateAdaptation\", 'tiktok_script': \"Hook: (Energetic, slightly concerned tone) 'Is it just me, or is the rain getting WILD?!'\\n(Quick cut to a graphic of increasing rainfall/flooding)\\nNarrator: 'Okay, it's NOT just you. The statement 'Climate change makes floods harder to prevent' is 100% TRUE!'\\n(Switch to explaining why with simple visuals)\\nNarrator: 'Warmer air holds more water ‚Äì about 7% more for every degree Celsius! That means when it rains, it POURS. Our cities' drains and rivers just can't keep up like they used to, leading to more intense floods.'\\n(Show quick examples of flood impacts)\\nNarrator: 'This isn't just 'natural weather.' It's a critical challenge driven by climate change. We need smart solutions NOW!'\\nCTA: 'Support climate action and resilient planning! Follow for more climate facts! #ClimateFacts #Flooding #ExtremeRain #ClimateActionNow'\"}, 'infographic_text': {'headline': 'Climate Change & Flooding: The TRUTH Behind Intensifying Rainfall', 'claim_vs_reality': [{'false_claim': \"The statement is an exaggeration; floods have always happened, it's just natural weather variability.\", 'scientific_reality': 'While floods are natural events, climate change is undeniably amplifying their frequency, intensity, and unpredictability worldwide, often overwhelming traditional defenses and historical norms.'}, {'false_claim': 'We can simply build bigger dams and levees to solve all our flood problems.', 'scientific_reality': 'Existing infrastructure is often insufficient for new extremes. Holistic solutions like natural flood management, ecosystem restoration, and permeable urban design are crucial alongside upgraded engineered defenses.'}], 'key_numbers': ['For every 1¬∞C of global warming, the atmosphere can hold about 7% more water, fueling heavier downpours. (IPCC)', 'Extreme precipitation events have become more frequent and intense in most land regions since the 1950s, with human influence identified as the main driver. (IPCC AR6 WG1)', 'Global flood damages are projected to increase significantly without aggressive adaptation measures and emission reductions.'], 'visual_elements': ['üíß (Heavy Raindrop)', 'üåä (Flood Wave)', 'üèóÔ∏è (Infrastructure)', 'üåç (Globe with rising water)', 'üìà (Upward Trend Arrow)']}, 'detailed_explanation': {'why_its_wrong': \"The statement 'Climate change impacts rainfall patterns, making it challenging to prevent all flooding events' is fundamentally true. However, simply stating it risks understating the profound and accelerating nature of this challenge. It's not merely a passive 'challenge'; it's an existential threat to communities, infrastructure, and economies globally, driven directly and demonstrably by human-induced climate change. The implication often taken from such a passive statement is one of helplessness, or that the issue is a natural, unavoidable phenomenon, when in fact, the intensity and frequency of these events are unprecedented in recent history and directly linked to anthropogenic greenhouse gas emissions. This reinterpretation aims to provide the full, urgent context, moving from a static fact to an dynamic imperative for action.\", 'scientific_consensus': \"The scientific community overwhelmingly agrees (with over 97% of actively publishing climate scientists in consensus) that human activities are the primary driver of observed changes in global rainfall patterns, leading to more extreme precipitation events and increased flood risk. The Intergovernmental Panel on Climate Change (IPCC) ‚Äì the leading international body for assessing climate change ‚Äì states with high confidence in its Sixth Assessment Report (AR6) that 'human influence has strengthened the water cycle' and 'it is virtually certain that hot extremes (including heatwaves) have become more frequent and more intense across most land regions since the 1950s, while cold extremes have become less frequent and less severe.' Importantly, AR6 also confirms an increase in the frequency and intensity of heavy precipitation events over land.\", 'real_world_examples': ['Germany and Belgium Floods (2021): Unprecedented rainfall, consistent with climate model projections for increased extreme rainfall in Europe, led to catastrophic floods, overwhelming rivers, causing billions in damages and over 200 fatalities. Scientific attribution studies confirmed climate change made the event more likely and intense.', 'Pakistan Floods (2022): Record monsoon rains, exacerbated by warming temperatures, submerged a third of the country, affecting 33 million people and displacing millions. This disaster was explicitly linked by scientists to human-caused climate change, with research showing it was made significantly more likely by warming temperatures.'], 'common_misconceptions': [\"Misconception: Flooding is just a natural disaster, and it's always happened this way; there's nothing new here. Addressed: While natural variability exists, climate change is undeniably amplifying the intensity, duration, and frequency of extreme rainfall events beyond historical norms, creating 'new normals' that overwhelm existing infrastructure and ecological systems.\", 'Misconception: We can simply build our way out of this problem with more concrete, dams, and levees. Addressed: While engineered solutions are vital, they are increasingly being overwhelmed by the scale of climate-driven changes. A multi-pronged, integrated approach involving natural flood management (e.g., restoring wetlands, permeable surfaces), early warning systems, adaptive urban planning, and ultimately, reducing greenhouse gas emissions is crucial.']}, 'credibility_markers': ['The Intergovernmental Panel on Climate Change (IPCC), the leading international body for assessing climate change, consistently reports on these trends, providing comprehensive, peer-reviewed assessments from thousands of scientists.', 'Numerous peer-reviewed attribution studies published in top scientific journals (e.g., Nature, Science, Environmental Research Letters) directly link specific extreme rainfall and flooding events to human-induced climate change.', 'Official meteorological data from national weather agencies and global climate monitoring organizations (e.g., WMO) consistently demonstrate a clear increase in the frequency and intensity of heavy precipitation events over recent decades across many regions.'], 'engagement_hooks': ['Has your local area experienced unusually heavy rainfall or flooding recently? Share your observations and how it impacted you!', \"Did you know that for every 1¬∞C the Earth warms, the atmosphere can hold about 7% more moisture, leading to much heavier downpours? That's a huge difference!\", \"Imagine your city's infrastructure, built for historical weather patterns, now facing a completely new extreme. What challenges does that create for your community, and what solutions do you think are most important?\"], 'hashtags': ['#FactCheck', '#ClimateScience', '#ScienceMatters', '#FloodResilience', '#ClimateAction', '#ExtremeWeather', '#WaterSecurity', '#ClimateChangeIsReal'], 'call_to_action': 'Understanding the true impact of climate change on rainfall is the first, crucial step. Advocate for sustainable urban planning, investment in resilient infrastructure, and policies that aggressively reduce greenhouse gas emissions to protect our communities from future floods. Share this truth and inspire action!', 'sources_cited': [{'source': 'IPCC, 2021: Climate Change 2021: The Physical Science Basis. Contribution of Working Group I to the Sixth Assessment Report of the Intergovernmental Panel on Climate Change', 'link': 'https://www.ipcc.ch/report/ar6/wg1/', 'why_credible': \"The IPCC is the world's leading body for assessing climate change science, synthesizing thousands of peer-reviewed studies by hundreds of expert scientists from around the globe. Its reports represent the consensus of the international scientific community.\"}, {'source': 'World Meteorological Organization (WMO) State of the Global Climate reports', 'link': 'https://public.wmo.int/en/our-mandate/climate/wmo-state-of-global-climate', 'why_credible': 'The WMO provides authoritative international data and analyses on weather, climate, and water, backed by national meteorological and hydrological services worldwide, offering robust global observations and trends.'}, {'source': 'Attribution Studies (e.g., World Weather Attribution initiative)', 'link': 'https://www.worldweatherattribution.org/', 'why_credible': 'This initiative provides rapid, scientifically rigorous assessments of whether and to what extent climate change altered the likelihood and intensity of extreme weather events, using established peer-reviewed methods.'}], 'original_misinformation': 'Climate change impacts rainfall patterns, making it challenging to prevent all flooding events.', 'status': 'success'}\n",
      "\n",
      "================================================================================\n",
      "‚úÖ COMPLETE! Check climate_fact_check_report.json for full results\n",
      "================================================================================\n"
     ]
    }
   ],
   "source": [
    "# ============================================================================\n",
    "# FINAL PIPELINE\n",
    "# ============================================================================\n",
    "\n",
    "print(\"\\n\" + \"=\" * 80)\n",
    "print(\"üéØ RUNNING FACT-CHECKING PIPELINE\")\n",
    "print(\"=\" * 80)\n",
    "print(f\"Processing {len(CLAIMS_TO_ANALYZE)} claims through 5-agent system...\")\n",
    "print(\"=\" * 80)\n",
    "\n",
    "# Create orchestrator and run pipeline\n",
    "orchestrator = ClimateFactCheckOrchestrator(model, CONFIG)\n",
    "final_report = orchestrator.execute(CLAIMS_TO_ANALYZE)\n",
    "\n",
    "# Save and display results\n",
    "orchestrator.save_report(final_report)\n",
    "orchestrator.display_summary(final_report)\n",
    "\n",
    "print(\"\\n\" + \"=\" * 80)\n",
    "print(\"‚úÖ COMPLETE! Check climate_fact_check_report.json for full results\")\n",
    "print(\"=\" * 80)\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "dfc103ae",
   "metadata": {
    "papermill": {
     "duration": 0.008008,
     "end_time": "2025-12-01T17:55:18.214423",
     "exception": false,
     "start_time": "2025-12-01T17:55:18.206415",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## Step 12: Generate Professional PDF Reports\n",
    "\n",
    "The final piece of the puzzle. Your JSON data transforms into a polished, professional PDF report that you can share with stakeholders, publish, or submit.\n",
    "\n",
    "**What it does:**\n",
    "- Loads the JSON report from the orchestrator\n",
    "- Creates a beautifully formatted PDF with:\n",
    "  - **Title Page** - Report name, date, summary statistics\n",
    "  - **Executive Summary** - High-level overview of findings\n",
    "  - **Detailed Fact-Checks** - One complete page per claim showing ALL 5 agent outputs\n",
    "  - **Professional Styling** - Colors, fonts, spacing optimized for readability\n",
    "  - **Page Breaks** - Clean separation between sections\n",
    "  - **Full Transparency** - Every agent's work visible and cited\n",
    "\n",
    "**PDF Contents (per claim):**\n",
    "1. üîç Agent 1: Claim Detection (type, confidence, keywords)\n",
    "2. ‚úì Agent 2: Source Verification (verdict, consensus, evidence)\n",
    "3. üìö Agent 3: Evidence Synthesis (headline, summary, citations)\n",
    "4. ‚≠ê Agent 4: Credibility Score (rating, breakdown, justification)\n",
    "5. üì± Agent 5: Counter-Narrative (Twitter, Facebook, Instagram, LinkedIn, TikTok, hashtags, CTA)\n",
    "\n",
    "**Quality Features:**\n",
    "- Clean HTML-escaped text (no rendering errors)\n",
    "- Smart formatting of lists and dictionaries\n",
    "- Proper citation formatting with sources and URLs\n",
    "- Color-coded headers for visual hierarchy\n",
    "- Professional color scheme (navy blues, clean whites)\n",
    "- Responsive layout that works in any PDF viewer\n",
    "\n",
    "**Output Files:**\n",
    "- `climate_fact_check_report.json` - Raw data, machine-readable\n",
    "- `Climate_FactCheck_Report_COMPLETE.pdf` - Presentation-ready, human-readable\n",
    "\n",
    "This is publication-quality output suitable for:\n",
    "- Academic papers\n",
    "- Policy briefs\n",
    "- News organizations\n",
    "- Educational materials\n",
    "- Social media campaigns\n",
    "- Government reports\n",
    "\n",
    "Your entire 5-agent system culminates in this single, professional deliverable. üìÑ‚ú®\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "7b48cb03",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:55:18.232418Z",
     "iopub.status.busy": "2025-12-01T17:55:18.231834Z",
     "iopub.status.idle": "2025-12-01T17:55:18.448901Z",
     "shell.execute_reply": "2025-12-01T17:55:18.448146Z"
    },
    "papermill": {
     "duration": 0.227314,
     "end_time": "2025-12-01T17:55:18.449952",
     "exception": false,
     "start_time": "2025-12-01T17:55:18.222638",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "================================================================================\n",
      "üìÑ GENERATING PRODUCTION-GRADE PDF (ALL CLAIMS, FULL DETAIL)\n",
      "================================================================================\n",
      "‚úÖ Production PDF generated: Climate_FactCheck_Report_COMPLETE.pdf\n",
      "üìÑ Total claims: 4\n",
      "üìä Estimated pages: 18\n",
      "\n",
      "‚úÖ PRODUCTION PDF COMPLETE!\n",
      "üìÑ File: Climate_FactCheck_Report_COMPLETE.pdf\n",
      "üìä All 4 claims included with full agent outputs\n",
      "================================================================================\n"
     ]
    }
   ],
   "source": [
    "from reportlab.lib.pagesizes import letter\n",
    "from reportlab.lib import colors\n",
    "from reportlab.lib.styles import getSampleStyleSheet, ParagraphStyle\n",
    "from reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer, PageBreak, PageTemplate, Frame\n",
    "from reportlab.lib.units import inch\n",
    "from reportlab.lib.enums import TA_JUSTIFY, TA_LEFT, TA_CENTER\n",
    "from reportlab.pdfgen import canvas\n",
    "from datetime import datetime\n",
    "import json\n",
    "\n",
    "class ProductionPDFGenerator:\n",
    "    \"\"\"Production-grade PDF generator with complete outputs and polish\"\"\"\n",
    "    \n",
    "    def __init__(self, filename='Climate_FactCheck_Report_COMPLETE.pdf'):\n",
    "        self.filename = filename\n",
    "        self.styles = getSampleStyleSheet()\n",
    "        self.setup_custom_styles()\n",
    "    \n",
    "    def setup_custom_styles(self):\n",
    "        \"\"\"Setup custom styles\"\"\"\n",
    "        if 'ReportTitle' not in self.styles:\n",
    "            self.styles.add(ParagraphStyle(\n",
    "                name='ReportTitle',\n",
    "                parent=self.styles['Heading1'],\n",
    "                fontSize=26,\n",
    "                textColor=colors.HexColor('#1F4788'),\n",
    "                spaceAfter=20,\n",
    "                alignment=TA_CENTER,\n",
    "                bold=True\n",
    "            ))\n",
    "        \n",
    "        if 'ClaimHeader' not in self.styles:\n",
    "            self.styles.add(ParagraphStyle(\n",
    "                name='ClaimHeader',\n",
    "                parent=self.styles['Heading2'],\n",
    "                fontSize=15,\n",
    "                textColor=colors.HexColor('#2A5CAE'),\n",
    "                spaceAfter=12,\n",
    "                spaceBefore=15,\n",
    "                bold=True,\n",
    "                borderWidth=1,\n",
    "                borderColor=colors.HexColor('#2A5CAE'),\n",
    "                borderPadding=5\n",
    "            ))\n",
    "        \n",
    "        if 'AgentHeader' not in self.styles:\n",
    "            self.styles.add(ParagraphStyle(\n",
    "                name='AgentHeader',\n",
    "                parent=self.styles['Heading3'],\n",
    "                fontSize=12,\n",
    "                textColor=colors.HexColor('#3D5A80'),\n",
    "                spaceAfter=6,\n",
    "                spaceBefore=8,\n",
    "                bold=True,\n",
    "                backColor=colors.HexColor('#F0F4F8')\n",
    "            ))\n",
    "        \n",
    "        if 'BodyText' not in self.styles:\n",
    "            self.styles.add(ParagraphStyle(\n",
    "                name='BodyText',\n",
    "                parent=self.styles['BodyText'],\n",
    "                fontSize=9,\n",
    "                alignment=TA_LEFT,\n",
    "                leading=12,\n",
    "                spaceBefore=3,\n",
    "                spaceAfter=3\n",
    "            ))\n",
    "    \n",
    "    def clean_text(self, text):\n",
    "        \"\"\"Clean and escape text for PDF\"\"\"\n",
    "        if text is None:\n",
    "            return \"Not available\"\n",
    "        \n",
    "        text_str = str(text)\n",
    "        \n",
    "        # Handle dict/list formatting\n",
    "        if isinstance(text, dict):\n",
    "            return self.format_dict(text)\n",
    "        if isinstance(text, list):\n",
    "            return self.format_list(text)\n",
    "        \n",
    "        # Escape HTML\n",
    "        text_str = text_str.replace('&', '&amp;')\n",
    "        text_str = text_str.replace('<', '&lt;')\n",
    "        text_str = text_str.replace('>', '&gt;')\n",
    "        \n",
    "        return text_str\n",
    "    \n",
    "    def format_dict(self, d):\n",
    "        \"\"\"Format dictionary cleanly\"\"\"\n",
    "        parts = []\n",
    "        for key, value in d.items():\n",
    "            parts.append(f\"{key}: {self.clean_text(value)}\")\n",
    "        return \"<br/>\".join(parts)\n",
    "    \n",
    "    def format_list(self, lst):\n",
    "        \"\"\"Format list cleanly\"\"\"\n",
    "        if not lst:\n",
    "            return \"None\"\n",
    "        return \"<br/>\".join([f\"‚Ä¢ {self.clean_text(item)}\" for item in lst])\n",
    "    \n",
    "    def generate_pdf(self, report_data):\n",
    "        \"\"\"Generate complete PDF\"\"\"\n",
    "        doc = SimpleDocTemplate(\n",
    "            self.filename,\n",
    "            pagesize=letter,\n",
    "            topMargin=0.75*inch,\n",
    "            bottomMargin=0.75*inch,\n",
    "            leftMargin=0.75*inch,\n",
    "            rightMargin=0.75*inch\n",
    "        )\n",
    "        \n",
    "        story = []\n",
    "        \n",
    "        # Title Page\n",
    "        story.extend(self._create_title_page(report_data))\n",
    "        story.append(PageBreak())\n",
    "        \n",
    "        # Executive Summary\n",
    "        story.extend(self._create_executive_summary(report_data))\n",
    "        story.append(PageBreak())\n",
    "        \n",
    "        # Process ALL claims\n",
    "        for i, fact_check in enumerate(report_data['fact_checks'], 1):\n",
    "            story.extend(self._create_complete_claim_section(fact_check, i))\n",
    "            story.append(PageBreak())\n",
    "        \n",
    "        # Build PDF\n",
    "        doc.build(story)\n",
    "        print(f\"‚úÖ Production PDF generated: {self.filename}\")\n",
    "        print(f\"üìÑ Total claims: {len(report_data['fact_checks'])}\")\n",
    "        print(f\"üìä Estimated pages: {len(report_data['fact_checks']) * 4 + 2}\")\n",
    "    \n",
    "    def _create_title_page(self, report_data):\n",
    "        \"\"\"Title page\"\"\"\n",
    "        story = []\n",
    "        \n",
    "        title = Paragraph(\"üåç CLIMATE MISINFORMATION<br/>FACT-CHECK REPORT\", self.styles['ReportTitle'])\n",
    "        story.append(title)\n",
    "        story.append(Spacer(1, 0.3*inch))\n",
    "        \n",
    "        timestamp = datetime.fromisoformat(report_data['report_timestamp'])\n",
    "        date_str = timestamp.strftime(\"%B %d, %Y at %H:%M UTC\")\n",
    "        \n",
    "        info_text = f\"\"\"\n",
    "        <b>Generated:</b> {date_str}<br/>\n",
    "        <b>Total Claims:</b> {report_data['total_claims_analyzed']}<br/>\n",
    "        <b>Successfully Analyzed:</b> {report_data['successful_fact_checks']}<br/><br/>\n",
    "        \n",
    "        <b>üìä Summary Statistics:</b><br/>\n",
    "        ‚Ä¢ True Claims: {report_data['summary']['true_claims']}<br/>\n",
    "        ‚Ä¢ False Claims: {report_data['summary']['false_claims']}<br/>\n",
    "        ‚Ä¢ Average Credibility: {report_data['summary']['avg_credibility']:.1f}/100<br/><br/>\n",
    "        \n",
    "        <b>üî¨ Sources:</b> {', '.join(report_data['system_config']['scientific_sources'])}\n",
    "        \"\"\"\n",
    "        \n",
    "        story.append(Paragraph(info_text, self.styles['BodyText']))\n",
    "        return story\n",
    "    \n",
    "    def _create_executive_summary(self, report_data):\n",
    "        \"\"\"Executive summary\"\"\"\n",
    "        story = []\n",
    "        \n",
    "        title = Paragraph(\"üìã EXECUTIVE SUMMARY\", self.styles['ClaimHeader'])\n",
    "        story.append(title)\n",
    "        story.append(Spacer(1, 0.15*inch))\n",
    "        \n",
    "        summary = f\"\"\"\n",
    "        This report examined {report_data['total_claims_analyzed']} climate-related claims using a \n",
    "        5-agent AI system. Each claim was processed through: Detection, Verification, Synthesis, \n",
    "        Credibility Scoring, and Counter-Narrative Generation.<br/><br/>\n",
    "        \n",
    "        <b>System Configuration:</b><br/>\n",
    "        ‚Ä¢ Authoritative Sources: {', '.join(report_data['system_config']['scientific_sources'])}<br/>\n",
    "        ‚Ä¢ Consensus Threshold: {report_data['system_config']['consensus_threshold']}%<br/>\n",
    "        ‚Ä¢ Success Rate: {report_data['successful_fact_checks']}/{report_data['total_claims_analyzed']} \n",
    "        ({100*report_data['successful_fact_checks']/report_data['total_claims_analyzed']:.1f}%)\n",
    "        \"\"\"\n",
    "        \n",
    "        story.append(Paragraph(summary, self.styles['BodyText']))\n",
    "        return story\n",
    "    \n",
    "    def _create_complete_claim_section(self, fact_check, num):\n",
    "        \"\"\"Complete claim section - NO TRUNCATION\"\"\"\n",
    "        story = []\n",
    "        \n",
    "        # Claim title\n",
    "        title = Paragraph(f\"<b>CLAIM #{num}</b>\", self.styles['ClaimHeader'])\n",
    "        story.append(title)\n",
    "        story.append(Spacer(1, 0.1*inch))\n",
    "        \n",
    "        # Original claim\n",
    "        claim_text = Paragraph(\n",
    "            f\"<b>Original Claim:</b><br/>{self.clean_text(fact_check['original_claim'])}\",\n",
    "            self.styles['BodyText']\n",
    "        )\n",
    "        story.append(claim_text)\n",
    "        story.append(Spacer(1, 0.15*inch))\n",
    "        \n",
    "        # AGENT 1\n",
    "        agent1 = fact_check.get('agent1_detection', {})\n",
    "        story.append(Paragraph(\"üîç AGENT 1: CLAIM DETECTION\", self.styles['AgentHeader']))\n",
    "        \n",
    "        a1_text = f\"\"\"\n",
    "        <b>Type:</b> {self.clean_text(agent1.get('claim_type'))}<br/>\n",
    "        <b>Confidence:</b> {agent1.get('confidence', 0):.2f}<br/>\n",
    "        <b>Climate Related:</b> {self.clean_text(agent1.get('is_climate_related'))}<br/>\n",
    "        <b>Needs Verification:</b> {self.clean_text(agent1.get('needs_verification'))}<br/>\n",
    "        <b>Keywords:</b> {', '.join(agent1.get('keywords', []))}<br/>\n",
    "        <b>Reasoning:</b><br/>{self.clean_text(agent1.get('reasoning'))}\n",
    "        \"\"\"\n",
    "        story.append(Paragraph(a1_text, self.styles['BodyText']))\n",
    "        story.append(Spacer(1, 0.1*inch))\n",
    "        \n",
    "        # AGENT 2\n",
    "        agent2 = fact_check.get('agent2_verification', {})\n",
    "        story.append(Paragraph(\"‚úì AGENT 2: SOURCE VERIFICATION\", self.styles['AgentHeader']))\n",
    "        \n",
    "        a2_text = f\"\"\"\n",
    "        <b>Verdict:</b> {self.clean_text(agent2.get('verdict'))}<br/>\n",
    "        <b>Scientific Consensus:</b> {agent2.get('scientific_consensus', 0)}%<br/>\n",
    "        <b>Confidence:</b> {agent2.get('confidence', 0):.2f}<br/>\n",
    "        <b>Sources:</b> {', '.join(agent2.get('authoritative_sources', []))}<br/><br/>\n",
    "        \n",
    "        <b>Explanation:</b><br/>{self.clean_text(agent2.get('explanation'))}<br/><br/>\n",
    "        \n",
    "        <b>Supporting Evidence:</b><br/>\n",
    "        {self.format_list(agent2.get('supporting_evidence', []))}<br/><br/>\n",
    "        \n",
    "        <b>Contradicting Evidence:</b><br/>\n",
    "        {self.format_list(agent2.get('contradicting_evidence', []))}\n",
    "        \"\"\"\n",
    "        story.append(Paragraph(a2_text, self.styles['BodyText']))\n",
    "        story.append(Spacer(1, 0.1*inch))\n",
    "        \n",
    "        # AGENT 3\n",
    "        agent3 = fact_check.get('agent3_synthesis', {})\n",
    "        story.append(Paragraph(\"üìö AGENT 3: EVIDENCE SYNTHESIS\", self.styles['AgentHeader']))\n",
    "        \n",
    "        # Format citations properly\n",
    "        citations_list = agent3.get('citations', [])\n",
    "        citations_formatted = []\n",
    "        for idx, citation in enumerate(citations_list, 1):\n",
    "            if isinstance(citation, dict):\n",
    "                source = citation.get('source', 'Unknown')\n",
    "                fact = citation.get('fact', '')\n",
    "                url = citation.get('url', '')\n",
    "                citations_formatted.append(f\"{idx}. <b>{source}:</b> {self.clean_text(fact)}<br/><i>{url}</i>\")\n",
    "            else:\n",
    "                citations_formatted.append(f\"{idx}. {self.clean_text(citation)}\")\n",
    "        \n",
    "        a3_text = f\"\"\"\n",
    "        <b>Headline:</b><br/>{self.clean_text(agent3.get('headline'))}<br/><br/>\n",
    "        \n",
    "        <b>Summary:</b><br/>{self.clean_text(agent3.get('summary'))}<br/><br/>\n",
    "        \n",
    "        <b>Bottom Line:</b><br/>{self.clean_text(agent3.get('bottom_line'))}<br/><br/>\n",
    "        \n",
    "        <b>Citations:</b><br/>\n",
    "        {'<br/>'.join(citations_formatted)}\n",
    "        \"\"\"\n",
    "        story.append(Paragraph(a3_text, self.styles['BodyText']))\n",
    "        story.append(Spacer(1, 0.1*inch))\n",
    "        \n",
    "        # AGENT 4\n",
    "        agent4 = fact_check.get('agent4_credibility', {})\n",
    "        story.append(Paragraph(\"‚≠ê AGENT 4: CREDIBILITY ASSESSMENT\", self.styles['AgentHeader']))\n",
    "        \n",
    "        a4_text = f\"\"\"\n",
    "        <b>Score:</b> {agent4.get('credibility_score', 0)}/100<br/>\n",
    "        <b>Rating:</b> {self.clean_text(agent4.get('rating'))}<br/><br/>\n",
    "        \n",
    "        <b>Breakdown:</b><br/>\n",
    "        {self.format_dict(agent4.get('breakdown', {}))}<br/><br/>\n",
    "        \n",
    "        <b>Justification:</b><br/>\n",
    "        {self.clean_text(agent4.get('justification'))}\n",
    "        \"\"\"\n",
    "        story.append(Paragraph(a4_text, self.styles['BodyText']))\n",
    "        story.append(Spacer(1, 0.1*inch))\n",
    "        \n",
    "        # AGENT 5 - COMPLETE SOCIAL MEDIA\n",
    "        agent5 = fact_check.get('agent5_counter_narrative', {})\n",
    "        story.append(Paragraph(\"üì± AGENT 5: COUNTER-NARRATIVE\", self.styles['AgentHeader']))\n",
    "        \n",
    "        social = agent5.get('social_media', {})\n",
    "        \n",
    "        a5_text = f\"\"\"\n",
    "        <b>Summary:</b><br/>{self.clean_text(agent5.get('short_summary'))}<br/><br/>\n",
    "        \n",
    "        <b>Twitter (280):</b><br/>{self.clean_text(social.get('twitter_280'))}<br/><br/>\n",
    "        \n",
    "        <b>Twitter Extended:</b><br/>{self.clean_text(social.get('twitter_extended'))}<br/><br/>\n",
    "        \n",
    "        <b>Facebook:</b><br/>{self.clean_text(social.get('facebook_long'))}<br/><br/>\n",
    "        \n",
    "        <b>Instagram:</b><br/>{self.clean_text(social.get('instagram_caption'))}<br/><br/>\n",
    "        \n",
    "        <b>LinkedIn:</b><br/>{self.clean_text(social.get('linkedin_professional'))}<br/><br/>\n",
    "        \n",
    "        <b>TikTok:</b><br/>{self.clean_text(social.get('tiktok_script'))}<br/><br/>\n",
    "        \n",
    "        <b>Hashtags:</b> {' '.join(agent5.get('hashtags', []))}<br/><br/>\n",
    "        \n",
    "        <b>CTA:</b> {self.clean_text(agent5.get('call_to_action'))}\n",
    "        \"\"\"\n",
    "        story.append(Paragraph(a5_text, self.styles['BodyText']))\n",
    "        \n",
    "        return story\n",
    "\n",
    "\n",
    "# ============================================================================\n",
    "# EXECUTE PRODUCTION PDF GENERATION\n",
    "# ============================================================================\n",
    "\n",
    "print(\"\\n\" + \"=\" * 80)\n",
    "print(\"üìÑ GENERATING PRODUCTION-GRADE PDF (ALL CLAIMS, FULL DETAIL)\")\n",
    "print(\"=\" * 80)\n",
    "\n",
    "# Load report\n",
    "with open('climate_fact_check_report.json', 'r') as f:\n",
    "    report_data = json.load(f)\n",
    "\n",
    "# Generate\n",
    "pdf_gen = ProductionPDFGenerator('Climate_FactCheck_Report_COMPLETE.pdf')\n",
    "pdf_gen.generate_pdf(report_data)\n",
    "\n",
    "print(\"\\n‚úÖ PRODUCTION PDF COMPLETE!\")\n",
    "print(\"üìÑ File: Climate_FactCheck_Report_COMPLETE.pdf\")\n",
    "print(f\"üìä All {len(report_data['fact_checks'])} claims included with full agent outputs\")\n",
    "print(\"=\" * 80)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "a7d4f30e",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-12-01T17:55:18.471470Z",
     "iopub.status.busy": "2025-12-01T17:55:18.471157Z",
     "iopub.status.idle": "2025-12-01T17:55:18.635933Z",
     "shell.execute_reply": "2025-12-01T17:55:18.634906Z"
    },
    "papermill": {
     "duration": 0.178754,
     "end_time": "2025-12-01T17:55:18.637611",
     "exception": false,
     "start_time": "2025-12-01T17:55:18.458857",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "================================================================================\n",
      "üì¶ CREATING SUBMISSION OUTPUT FILES\n",
      "================================================================================\n",
      "‚úÖ JSON Report saved: climate_fact_check_report.json (80.2 KB)\n",
      "‚úÖ Production PDF generated: Climate_FactCheck_Report_COMPLETE.pdf\n",
      "üìÑ Total claims: 4\n",
      "üìä Estimated pages: 18\n",
      "‚úÖ PDF Report generated: Climate_FactCheck_Report_COMPLETE.pdf (33.2 KB)\n",
      "‚úÖ Summary CSV saved: climate_fact_check_summary.csv (0.6 KB)\n",
      "‚úÖ Text Summary saved: climate_fact_check_summary.txt (1.1 KB)\n",
      "\n",
      "================================================================================\n",
      "üì¶ SUBMISSION FILES READY:\n",
      "   ‚úÖ climate_fact_check_report.json (82,078 bytes)\n",
      "   ‚úÖ Climate_FactCheck_Report_COMPLETE.pdf (33,990 bytes)\n",
      "   ‚úÖ climate_fact_check_summary.csv (600 bytes)\n",
      "   ‚úÖ climate_fact_check_summary.txt (1,099 bytes)\n",
      "\n",
      "üéØ Total Output Files: 4/4\n",
      "================================================================================\n"
     ]
    }
   ],
   "source": [
    "# ============================================================================\n",
    "# CREATE SUBMISSION OUTPUT FILES\n",
    "# ============================================================================\n",
    "\n",
    "import os\n",
    "import json\n",
    "import csv\n",
    "from datetime import datetime\n",
    "\n",
    "print(\"\\n\" + \"=\" * 80)\n",
    "print(\"üì¶ CREATING SUBMISSION OUTPUT FILES\")\n",
    "print(\"=\" * 80)\n",
    "\n",
    "# Verify final_report exists\n",
    "if 'final_report' not in globals():\n",
    "    print(\"‚ùå ERROR: final_report not found! Run all prior cells first.\")\n",
    "else:\n",
    "    try:\n",
    "        # 1. Save JSON Report\n",
    "        report_json_path = 'climate_fact_check_report.json'\n",
    "        with open(report_json_path, 'w') as f:\n",
    "            json.dump(final_report, f, indent=2)\n",
    "        \n",
    "        if os.path.exists(report_json_path):\n",
    "            size_kb = os.path.getsize(report_json_path) / 1024\n",
    "            print(f\"‚úÖ JSON Report saved: {report_json_path} ({size_kb:.1f} KB)\")\n",
    "        else:\n",
    "            print(f\"‚ùå JSON save failed!\")\n",
    "        \n",
    "        # 2. Generate PDF\n",
    "        pdf_path = 'Climate_FactCheck_Report_COMPLETE.pdf'\n",
    "        pdf_gen = ProductionPDFGenerator(pdf_path)\n",
    "        pdf_gen.generate_pdf(final_report)\n",
    "        \n",
    "        if os.path.exists(pdf_path):\n",
    "            size_kb = os.path.getsize(pdf_path) / 1024\n",
    "            print(f\"‚úÖ PDF Report generated: {pdf_path} ({size_kb:.1f} KB)\")\n",
    "        else:\n",
    "            print(f\"‚ùå PDF save failed!\")\n",
    "        \n",
    "        # 3. Create Summary CSV\n",
    "        csv_path = 'climate_fact_check_summary.csv'\n",
    "        with open(csv_path, 'w', newline='', encoding='utf-8') as csvfile:\n",
    "            fieldnames = ['Claim_Number', 'Claim', 'Type', 'Verdict', 'Credibility_Score', 'Rating', 'Confidence']\n",
    "            writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n",
    "            \n",
    "            writer.writeheader()\n",
    "            for idx, fc in enumerate(final_report['fact_checks'], 1):\n",
    "                try:\n",
    "                    writer.writerow({\n",
    "                        'Claim_Number': idx,\n",
    "                        'Claim': fc['original_claim'][:100],\n",
    "                        'Type': fc['agent1_detection'].get('claim_type', 'N/A'),\n",
    "                        'Verdict': fc['agent2_verification'].get('verdict', 'N/A'),\n",
    "                        'Credibility_Score': round(fc['agent4_credibility'].get('credibility_score', 0), 1),\n",
    "                        'Rating': fc['agent4_credibility'].get('rating', 'N/A'),\n",
    "                        'Confidence': round(fc['agent2_verification'].get('confidence', 0), 2)\n",
    "                    })\n",
    "                except Exception as e:\n",
    "                    print(f\"‚ö†Ô∏è  Skipped row {idx}: {str(e)}\")\n",
    "        \n",
    "        if os.path.exists(csv_path):\n",
    "            size_kb = os.path.getsize(csv_path) / 1024\n",
    "            print(f\"‚úÖ Summary CSV saved: {csv_path} ({size_kb:.1f} KB)\")\n",
    "        else:\n",
    "            print(f\"‚ùå CSV save failed!\")\n",
    "        \n",
    "        # 4. Create Text Summary Report\n",
    "        txt_path = 'climate_fact_check_summary.txt'\n",
    "        with open(txt_path, 'w', encoding='utf-8') as f:\n",
    "            f.write(\"=\" * 80 + \"\\n\")\n",
    "            f.write(\"üåç CLIMATE FACT-CHECK REPORT SUMMARY\\n\")\n",
    "            f.write(\"=\" * 80 + \"\\n\\n\")\n",
    "            f.write(f\"Generated: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\\n\")\n",
    "            f.write(f\"Total Claims: {final_report['total_claims_analyzed']}\\n\")\n",
    "            f.write(f\"Successfully Processed: {final_report['successful_fact_checks']}\\n\")\n",
    "            f.write(f\"True Claims: {final_report['summary']['true_claims']}\\n\")\n",
    "            f.write(f\"False Claims: {final_report['summary']['false_claims']}\\n\")\n",
    "            f.write(f\"Average Credibility: {final_report['summary']['avg_credibility']:.1f}/100\\n\\n\")\n",
    "            \n",
    "            for idx, fc in enumerate(final_report['fact_checks'], 1):\n",
    "                f.write(f\"\\nCLAIM {idx}:\\n\")\n",
    "                f.write(f\"  Original: {fc['original_claim'][:150]}\\n\")\n",
    "                f.write(f\"  Verdict: {fc['agent2_verification'].get('verdict', 'N/A')}\\n\")\n",
    "                f.write(f\"  Credibility: {fc['agent4_credibility'].get('credibility_score', 'N/A')}/100\\n\")\n",
    "                f.write(f\"  Rating: {fc['agent4_credibility'].get('rating', 'N/A')}\\n\")\n",
    "        \n",
    "        if os.path.exists(txt_path):\n",
    "            size_kb = os.path.getsize(txt_path) / 1024\n",
    "            print(f\"‚úÖ Text Summary saved: {txt_path} ({size_kb:.1f} KB)\")\n",
    "        else:\n",
    "            print(f\"‚ùå Text save failed!\")\n",
    "        \n",
    "        # Final confirmation\n",
    "        print(\"\\n\" + \"=\" * 80)\n",
    "        print(\"üì¶ SUBMISSION FILES READY:\")\n",
    "        output_files = []\n",
    "        for fname in [report_json_path, pdf_path, csv_path, txt_path]:\n",
    "            if os.path.exists(fname):\n",
    "                size = os.path.getsize(fname)\n",
    "                output_files.append(f\"   ‚úÖ {fname} ({size:,} bytes)\")\n",
    "        \n",
    "        print(\"\\n\".join(output_files))\n",
    "        print(f\"\\nüéØ Total Output Files: {len(output_files)}/4\")\n",
    "        print(\"=\" * 80)\n",
    "        \n",
    "    except Exception as e:\n",
    "        print(f\"\\n‚ùå ERROR during file creation: {str(e)}\")\n",
    "        import traceback\n",
    "        traceback.print_exc()\n"
   ]
  }
 ],
 "metadata": {
  "kaggle": {
   "accelerator": "none",
   "dataSources": [],
   "dockerImageVersionId": 31192,
   "isGpuEnabled": false,
   "isInternetEnabled": true,
   "language": "python",
   "sourceType": "notebook"
  },
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.13"
  },
  "papermill": {
   "default_parameters": {},
   "duration": 458.297127,
   "end_time": "2025-12-01T17:55:22.225191",
   "environment_variables": {},
   "exception": null,
   "input_path": "__notebook__.ipynb",
   "output_path": "__notebook__.ipynb",
   "parameters": {},
   "start_time": "2025-12-01T17:47:43.928064",
   "version": "2.6.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
